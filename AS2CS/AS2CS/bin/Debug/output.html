<style>html{background-color:#272822}.c{color:#75715e}.err{color:#960050;background-color:#1e0010}.k{color:#66d9ef}.l{color:#ae81ff}.n{color:#f8f8f2}.o{color:#f92672}.p{color:#f8f8f2}.cm{color:#75715e}.cp{color:#75715e}.c1{color:#75715e}.cs{color:#75715e}.ge{font-style:italic}.gs{font-weight:700}.kc{color:#66d9ef}.kd{color:#66d9ef}.kn{color:#f92672}.kp{color:#66d9ef}.kr{color:#66d9ef}.kt{color:#66d9ef}.ld{color:#e6db74}.m{color:#ae81ff}.s{color:#e6db74}.na{color:#a6e22e}.nb{color:#f8f8f2}.nc{color:#a6e22e}.no{color:#66d9ef}.nd{color:#a6e22e}.ni{color:#f8f8f2}.ne{color:#a6e22e}.nf{color:#a6e22e}.nl{color:#f8f8f2}.nn{color:#f8f8f2}.nx{color:#a6e22e}.py{color:#f8f8f2}.nt{color:#f92672}.nv{color:#f8f8f2}.ow{color:#f92672}.w{color:#f8f8f2}.mf{color:#ae81ff}.mh{color:#ae81ff}.mi{color:#ae81ff}.mo{color:#ae81ff}.sb{color:#e6db74}.sc{color:#e6db74}.sd{color:#e6db74}.s2{color:#e6db74}.se{color:#ae81ff}.sh{color:#e6db74}.si{color:#e6db74}.sx{color:#e6db74}.sr{color:#e6db74}.s1{color:#e6db74}.ss{color:#e6db74}.bp{color:#f8f8f2}.vc{color:#f8f8f2}.vg{color:#f8f8f2}.vi{color:#f8f8f2}.il{color:#ae81ff}.gu{color:#75715e}.gd{color:#f92672}.gi{color:#a6e22e}</style><div class="highlight" ><pre style="; " ><span class="c1">//Created by Action Script Viewer - http://www.buraks.com/asv</span>
<span class="c1"></span><span class="k">package</span><span class=""> </span><span class="nn">com.company.rotmg.graphics</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class=""></span><span class="k">import</span><span class=""> </span><span class="nn">flash.display.MovieClip</span><span class=""></span><span class="o">;</span><span class=""></span>
<span class=""></span>
<span class=""></span><span class="o">[</span><span class="n">Embed</span><span class="o">(</span><span class="n">source</span><span class="o">=</span><span class="s2">&quot;ScreenGraphic.swf&quot;</span><span class="o">,</span><span class=""> </span><span class="n">symbol</span><span class="o">=</span><span class="s2">&quot;com.company.rotmg.graphics.ScreenGraphic&quot;</span><span class="o">)]</span><span class=""></span>
<span class=""></span><span class="kd">public</span><span class=""> </span><span class="kd">dynamic</span><span class=""> </span><span class="kd">class</span><span class=""> </span><span class="n">ScreenGraphic</span><span class=""> </span><span class="kd">extends</span><span class=""> </span><span class="n">MovieClip</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function</span><span class=""> </span><span class="n">ScreenGraphic</span><span class="o">()</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="kd">super</span><span class="o">();</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span><span class="o">}</span><span class=""></span>
<span class=""></span><span class="o">}//</span><span class="k">package</span><span class=""> </span><span class="nn">com.company.rotmg.graphics</span><span class=""></span>
</pre></div>
phic&quot;</span><span class="o">)]</span><span class=""></span>
<span class=""></span><span class="kd">public</span><span class=""> </span><span class="kd">dynamic</span><span class=""> </span><span class="kd">class</span><span class=""> </span><span class="n">ScreenGraphic</span><span class=""> </span><span class="kd">extends</span><span class=""> </span><span class="n">MovieClip</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function</span><span class=""> </span><span class="n">ScreenGraphic</span><span class="o">()</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="kd">super</span><span class="o">();</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span><span class="o">}</span><span class=""></span>
<span class=""></span><span class="o">}//</span><span class="k">package</span><span class=""> </span><span class="nn">com.company.rotmg.graphics</span><span class=""></span>
</pre></div>
phic&quot;</span><span class="o">)]</span><span class=""></span>
<span class=""></span><span class="kd">public</span><span class=""> </span><span class="kd">dynamic</span><span class=""> </span><span class="kd">class</span><span class=""> </span><span class="n">ScreenGraphic</span><span class=""> </span><span class="kd">extends</span><span class=""> </span><span class="n">MovieClip</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function</span><span class=""> </span><span class="n">ScreenGraphic</span><span class="o">()</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="kd">super</span><span class="o">();</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span><span class="o">}</span><span class=""></span>
<span class=""></span><span class="o">}//</span><span class="k">package</span><span class=""> </span><span class="nn">com.company.rotmg.graphics</span><span class=""></span>
</pre></div>
phic&quot;</span><span class="o">)]</span><span class=""></span>
<span class=""></span><span class="kd">public</span><span class=""> </span><span class="kd">dynamic</span><span class=""> </span><span class="kd">class</span><span class=""> </span><span class="n">ScreenGraphic</span><span class=""> </span><span class="kd">extends</span><span class=""> </span><span class="n">MovieClip</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function</span><span class=""> </span><span class="n">ScreenGraphic</span><span class="o">()</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="kd">super</span><span class="o">();</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span><span class="o">}</span><span class=""></span>
<span class=""></span><span class="o">}//</span><span class="k">package</span><span class=""> </span><span class="nn">com.company.rotmg.graphics</span><span class=""></span>
</pre></div>
phic&quot;</span><span class="o">)]</span><span class=""></span>
<span class=""></span><span class="kd">public</span><span class=""> </span><span class="kd">dynamic</span><span class=""> </span><span class="kd">class</span><span class=""> </span><span class="n">ScreenGraphic</span><span class=""> </span><span class="kd">extends</span><span class=""> </span><span class="n">MovieClip</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function</span><span class=""> </span><span class="n">ScreenGraphic</span><span class="o">()</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="kd">super</span><span class="o">();</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span><span class="o">}</span><span class=""></span>
<span class=""></span><span class="o">}//</span><span class="k">package</span><span class=""> </span><span class="nn">com.company.rotmg.graphics</span><span class=""></span>
</pre></div>
ort</span><span class=""> </span><span class="nn">flash.display.GraphicsBitmapFill</span><span class=""></span><span class="o">;</span><span class=""></span>
<span class=""></span><span class="k">import</span><span class=""> </span><span class="nn">flash.display.GraphicsGradientFill</span><span class=""></span><span class="o">;</span><span class=""></span>
<span class=""></span><span class="k">import</span><span class=""> </span><span class="nn">flash.display.IGraphicsData</span><span class=""></span><span class="o">;</span><span class=""></span>
<span class=""></span><span class="k">import</span><span class=""> </span><span class="nn">flash.display.Stage3D</span><span class=""></span><span class="o">;</span><span class=""></span>
<span class=""></span><span class="k">import</span><span class=""> </span><span class="nn">flash.display.StageScaleMode</span><span class=""></span><span class="o">;</span><span class=""></span>
<span class=""></span><span class="k">import</span><span class=""> </span><span class="nn">flash.display3D.Context3D</span><span class=""></span><span class="o">;</span><span class=""></span>
<span class=""></span><span class="k">import</span><span class=""> </span><span class="nn">flash.display3D.Context3DProgramType</span><span class=""></span><span class="o">;</span><span class=""></span>
<span class=""></span><span class="k">import</span><span class=""> </span><span class="nn">flash.display3D.Context3DTextureFormat</span><span class=""></span><span class="o">;</span><span class=""></span>
<span class=""></span><span class="k">import</span><span class=""> </span><span class="nn">flash.display3D.Context3DTriangleFace</span><span class=""></span><span class="o">;</span><span class=""></span>
<span class=""></span><span class="k">import</span><span class=""> </span><span class="nn">flash.display3D.Context3DVertexBufferFormat</span><span class=""></span><span class="o">;</span><span class=""></span>
<span class=""></span><span class="k">import</span><span class=""> </span><span class="nn">flash.display3D.IndexBuffer3D</span><span class=""></span><span class="o">;</span><span class=""></span>
<span class=""></span><span class="k">import</span><span class=""> </span><span class="nn">flash.display3D.Program3D</span><span class=""></span><span class="o">;</span><span class=""></span>
<span class=""></span><span class="k">import</span><span class=""> </span><span class="nn">flash.display3D.VertexBuffer3D</span><span class=""></span><span class="o">;</span><span class=""></span>
<span class=""></span><span class="k">import</span><span class=""> </span><span class="nn">flash.display3D.textures.Texture</span><span class=""></span><span class="o">;</span><span class=""></span>
<span class=""></span><span class="k">import</span><span class=""> </span><span class="nn">flash.geom.Matrix3D</span><span class=""></span><span class="o">;</span><span class=""></span>
<span class=""></span><span class="k">import</span><span class=""> </span><span class="nn">flash.geom.Vector3D</span><span class=""></span><span class="o">;</span><span class=""></span>
<span class=""></span><span class="k">import</span><span class=""> </span><span class="nn">flash.utils.ByteArray</span><span class=""></span><span class="o">;</span><span class=""></span>
<span class=""></span>
<span class=""></span><span class="k">import</span><span class=""> </span><span class="nn">kabam.rotmg.stage3D.Object3D.Object3DStage3D</span><span class=""></span><span class="o">;</span><span class=""></span>
<span class=""></span><span class="k">import</span><span class=""> </span><span class="nn">kabam.rotmg.stage3D.Object3D.Util</span><span class=""></span><span class="o">;</span><span class=""></span>
<span class=""></span><span class="k">import</span><span class=""> </span><span class="nn">kabam.rotmg.stage3D.graphic3D.Graphic3D</span><span class=""></span><span class="o">;</span><span class=""></span>
<span class=""></span><span class="k">import</span><span class=""> </span><span class="nn">kabam.rotmg.stage3D.graphic3D.TextureFactory</span><span class=""></span><span class="o">;</span><span class=""></span>
<span class=""></span><span class="k">import</span><span class=""> </span><span class="nn">kabam.rotmg.stage3D.proxies.Context3DProxy</span><span class=""></span><span class="o">;</span><span class=""></span>
<span class=""></span>
<span class=""></span><span class="k">import</span><span class=""> </span><span class="nn">org.swiftsuspenders.Injector</span><span class=""></span><span class="o">;</span><span class=""></span>
<span class=""></span>
<span class=""></span><span class="kd">public</span><span class=""> </span><span class="kd">class</span><span class=""> </span><span class="n">Renderer</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">static</span><span class=""> </span><span class="kd">const</span><span class=""> </span><span class="n">STAGE3D_FILTER_PAUSE</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">uint</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">static</span><span class=""> </span><span class="kd">const</span><span class=""> </span><span class="n">STAGE3D_FILTER_BLIND</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">uint</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">2</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">static</span><span class=""> </span><span class="kd">const</span><span class=""> </span><span class="n">STAGE3D_FILTER_DRUNK</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">uint</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">3</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">static</span><span class=""> </span><span class="kd">var</span><span class=""> </span><span class="n">inGame</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Boolean</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">static</span><span class=""> </span><span class="kd">const</span><span class=""> </span><span class="n">POST_FILTER_VERTEX_CONSTANTS</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Vector.&lt;Number&gt;</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="o">&lt;</span><span class="n">Number</span><span class="o">&gt;[</span><span class="mi">1</span><span class="o">,</span><span class=""> </span><span class="mi">2</span><span class="o">,</span><span class=""> </span><span class="mi">0</span><span class="o">,</span><span class=""> </span><span class="mi">0</span><span class="o">];</span><span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">static</span><span class=""> </span><span class="kd">const</span><span class=""> </span><span class="n">GRAYSCALE_FRAGMENT_CONSTANTS</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Vector.&lt;Number&gt;</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="o">&lt;</span><span class="n">Number</span><span class="o">&gt;[</span><span class="mf">0.3</span><span class="o">,</span><span class=""> </span><span class="mf">0.59</span><span class="o">,</span><span class=""> </span><span class="mf">0.11</span><span class="o">,</span><span class=""> </span><span class="mi">0</span><span class="o">];</span><span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">static</span><span class=""> </span><span class="kd">const</span><span class=""> </span><span class="n">BLIND_FRAGMENT_CONSTANTS</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Vector.&lt;Number&gt;</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="o">&lt;</span><span class="n">Number</span><span class="o">&gt;[</span><span class="mf">0.05</span><span class="o">,</span><span class=""> </span><span class="mf">0.05</span><span class="o">,</span><span class=""> </span><span class="mf">0.05</span><span class="o">,</span><span class=""> </span><span class="mi">0</span><span class="o">];</span><span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">static</span><span class=""> </span><span class="kd">const</span><span class=""> </span><span class="n">POST_FILTER_POSITIONS</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Vector.&lt;Number&gt;</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="o">&lt;</span><span class="n">Number</span><span class="o">&gt;[-</span><span class="mi">1</span><span class="o">,</span><span class=""> </span><span class="mi">1</span><span class="o">,</span><span class=""> </span><span class="mi">0</span><span class="o">,</span><span class=""> </span><span class="mi">0</span><span class="o">,</span><span class=""> </span><span class="mi">1</span><span class="o">,</span><span class=""> </span><span class="mi">1</span><span class="o">,</span><span class=""> </span><span class="mi">1</span><span class="o">,</span><span class=""> </span><span class="mi">0</span><span class="o">,</span><span class=""> </span><span class="mi">1</span><span class="o">,</span><span class=""> </span><span class="o">-</span><span class="mi">1</span><span class="o">,</span><span class=""> </span><span class="mi">1</span><span class="o">,</span><span class=""> </span><span class="mi">1</span><span class="o">,</span><span class=""> </span><span class="o">-</span><span class="mi">1</span><span class="o">,</span><span class=""> </span><span class="o">-</span><span class="mi">1</span><span class="o">,</span><span class=""> </span><span class="mi">0</span><span class="o">,</span><span class=""> </span><span class="mi">1</span><span class="o">];</span><span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">static</span><span class=""> </span><span class="kd">const</span><span class=""> </span><span class="n">POST_FILTER_TRIS</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Vector.&lt;uint&gt;</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="o">&lt;</span><span class="n">uint</span><span class="o">&gt;[</span><span class="mi">0</span><span class="o">,</span><span class=""> </span><span class="mi">2</span><span class="o">,</span><span class=""> </span><span class="mi">3</span><span class="o">,</span><span class=""> </span><span class="mi">0</span><span class="o">,</span><span class=""> </span><span class="mi">1</span><span class="o">,</span><span class=""> </span><span class="mi">2</span><span class="o">];</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="o">[</span><span class="n">Inject</span><span class="o">]</span><span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">var</span><span class=""> </span><span class="n">context3D</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Context3DProxy</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="o">[</span><span class="n">Inject</span><span class="o">]</span><span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">var</span><span class=""> </span><span class="n">textureFactory</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">TextureFactory</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="o">[</span><span class="n">Inject</span><span class="o">]</span><span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">var</span><span class=""> </span><span class="n">injector</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Injector</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">var</span><span class=""> </span><span class="n">tX</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">var</span><span class=""> </span><span class="n">tY</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">var</span><span class=""> </span><span class="n">program2</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Program3D</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">var</span><span class=""> </span><span class="n">postProcessingProgram_</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Program3D</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">var</span><span class=""> </span><span class="n">blurPostProcessing_</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Program3D</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">var</span><span class=""> </span><span class="n">shadowProgram_</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Program3D</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">var</span><span class=""> </span><span class="n">graphic3D_</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Graphic3D</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="kd">protected</span><span class=""> </span><span class="kd">var</span><span class=""> </span><span class="n">_projection</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Matrix3D</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="kd">protected</span><span class=""> </span><span class="kd">var</span><span class=""> </span><span class="n">cameraMatrix_</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Matrix3D</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">var</span><span class=""> </span><span class="n">p_</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Vector3D</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">var</span><span class=""> </span><span class="n">f_</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Vector3D</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">var</span><span class=""> </span><span class="n">u_</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Vector3D</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">var</span><span class=""> </span><span class="n">r_</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Vector3D</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">var</span><span class=""> </span><span class="n">rd_</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Vector.&lt;Number&gt;</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="kd">protected</span><span class=""> </span><span class="kd">var</span><span class=""> </span><span class="n">widthOffset_</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="kd">protected</span><span class=""> </span><span class="kd">var</span><span class=""> </span><span class="n">heightOffset_</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">var</span><span class=""> </span><span class="n">stageWidth</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">600</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">var</span><span class=""> </span><span class="n">stageHeight</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">600</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">var</span><span class=""> </span><span class="n">sceneTexture_</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Texture</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">var</span><span class=""> </span><span class="n">blurFactor</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mf">0.01</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">var</span><span class=""> </span><span class="n">postFilterVertexBuffer_</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">VertexBuffer3D</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">var</span><span class=""> </span><span class="n">postFilterIndexBuffer_</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">IndexBuffer3D</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="kd">protected</span><span class=""> </span><span class="kd">var</span><span class=""> </span><span class="n">_vertexShader</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">String</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="kd">protected</span><span class=""> </span><span class="kd">var</span><span class=""> </span><span class="n">_fragmentShader</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">String</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="kd">protected</span><span class=""> </span><span class="kd">var</span><span class=""> </span><span class="n">blurFragmentConstants_</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Vector.&lt;Number&gt;</span><span class="o">;</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function</span><span class=""> </span><span class="n">Renderer</span><span class="o">(</span><span class=""></span><span class="n">_arg_1</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Render3D</span><span class=""></span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">cameraMatrix_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="kt">Matrix3D</span><span class=""></span><span class="o">();</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">p_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="kt">Vector3D</span><span class=""></span><span class="o">();</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">f_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="kt">Vector3D</span><span class=""></span><span class="o">();</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">u_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="kt">Vector3D</span><span class=""></span><span class="o">();</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">r_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="kt">Vector3D</span><span class=""></span><span class="o">();</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">rd_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="kt">Vector.&lt;Number&gt;</span><span class=""></span><span class="o">(</span><span class="mi">16</span><span class="o">,</span><span class=""> </span><span class="kc">true</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">_vertexShader</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">[</span><span class="s2">&quot;m44 op, va0, vc0&quot;</span><span class="o">,</span><span class=""> </span><span class="s2">&quot;m44 v0, va0, vc8&quot;</span><span class="o">,</span><span class=""> </span><span class="s2">&quot;m44 v1, va1, vc8&quot;</span><span class="o">,</span><span class=""> </span><span class="s2">&quot;mov v2, va2&quot;</span><span class="o">].</span><span class="na">join</span><span class="o">(</span><span class="s2">&quot;\n&quot;</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">_fragmentShader</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">[</span><span class="s2">&quot;tex oc, v2, fs0 &lt;2d,clamp&gt;&quot;</span><span class="o">].</span><span class="na">join</span><span class="o">(</span><span class="s2">&quot;\n&quot;</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">blurFragmentConstants_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">Vector</span><span class="o">.&lt;</span><span class="n">Number</span><span class="o">&gt;([</span><span class="mf">0.4</span><span class="o">,</span><span class=""> </span><span class="mf">0.6</span><span class="o">,</span><span class=""> </span><span class="mf">0.4</span><span class="o">,</span><span class=""> </span><span class="mf">1.5</span><span class="o">]);</span><span class=""></span>
<span class="">        </span><span class="kd">super</span><span class="o">();</span><span class=""></span>
<span class="">        </span><span class="n">Renderer</span><span class="o">.</span><span class="na">inGame</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="kc">false</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">setTranslationToTitle</span><span class="o">();</span><span class=""></span>
<span class="">        </span><span class="n">_arg_1</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">onRender</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function </span><span class="nf">init</span><span class=""></span><span class="o">(</span><span class=""></span><span class="n">_arg_1</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Context3D</span><span class=""></span><span class="o">)</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">void</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">_projection</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">Util</span><span class="o">.</span><span class="na">perspectiveProjection</span><span class="o">(</span><span class="mi">56</span><span class="o">,</span><span class=""> </span><span class="mi">1</span><span class="o">,</span><span class=""> </span><span class="mf">0.1</span><span class="o">,</span><span class=""> </span><span class="mh">0x0800</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_2</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">AGALMiniAssembler</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="kt">AGALMiniAssembler</span><span class=""></span><span class="o">();</span><span class=""></span>
<span class="">        </span><span class="n">_local_2</span><span class="o">.</span><span class="na">assemble</span><span class="o">(</span><span class="n">Context3DProgramType</span><span class="o">.</span><span class="na">VERTEX</span><span class="o">,</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">_vertexShader</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_3</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">AGALMiniAssembler</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="kt">AGALMiniAssembler</span><span class=""></span><span class="o">();</span><span class=""></span>
<span class="">        </span><span class="n">_local_3</span><span class="o">.</span><span class="na">assemble</span><span class="o">(</span><span class="n">Context3DProgramType</span><span class="o">.</span><span class="na">FRAGMENT</span><span class="o">,</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">_fragmentShader</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">program2</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_arg_1</span><span class="o">.</span><span class="na">createProgram</span><span class="o">();</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">program2</span><span class="o">.</span><span class="na">upload</span><span class="o">(</span><span class="n">_local_2</span><span class="o">.</span><span class="na">agalcode</span><span class="o">,</span><span class=""> </span><span class="n">_local_3</span><span class="o">.</span><span class="na">agalcode</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="n">var</span><span class=""> </span><span class="n">_local_4</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">((((</span><span class="s2">&quot;tex ft0, v0, fs0 &lt;2d,clamp,linear&gt;\n&quot;</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="s2">&quot;dp3 ft0.x, ft0, fc0\n&quot;</span><span class="o">)</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="s2">&quot;mov ft0.y, ft0.x\n&quot;</span><span class="o">)</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="s2">&quot;mov ft0.z, ft0.x\n&quot;</span><span class="o">)</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="s2">&quot;mov oc, ft0\n&quot;</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="n">var</span><span class=""> </span><span class="n">_local_5</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">((((</span><span class="s2">&quot;mov op, va0\n&quot;</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="s2">&quot;add vt0, vc0.xxxx, va0\n&quot;</span><span class="o">)</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="s2">&quot;div vt0, vt0, vc0.yyyy\n&quot;</span><span class="o">)</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="s2">&quot;sub vt0.y, vc0.x, vt0.y\n&quot;</span><span class="o">)</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="s2">&quot;mov v0, vt0\n&quot;</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_6</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">AGALMiniAssembler</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="kt">AGALMiniAssembler</span><span class=""></span><span class="o">();</span><span class=""></span>
<span class="">        </span><span class="n">_local_6</span><span class="o">.</span><span class="na">assemble</span><span class="o">(</span><span class="n">Context3DProgramType</span><span class="o">.</span><span class="na">VERTEX</span><span class="o">,</span><span class=""> </span><span class="n">_local_5</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_7</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">ByteArray</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_local_6</span><span class="o">.</span><span class="na">agalcode</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="n">_local_6</span><span class="o">.</span><span class="na">assemble</span><span class="o">(</span><span class="n">Context3DProgramType</span><span class="o">.</span><span class="na">FRAGMENT</span><span class="o">,</span><span class=""> </span><span class="n">_local_4</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_8</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">ByteArray</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_local_6</span><span class="o">.</span><span class="na">agalcode</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">postProcessingProgram_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_arg_1</span><span class="o">.</span><span class="na">createProgram</span><span class="o">();</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">postProcessingProgram_</span><span class="o">.</span><span class="na">upload</span><span class="o">(</span><span class="n">_local_7</span><span class="o">,</span><span class=""> </span><span class="n">_local_8</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="n">var</span><span class=""> </span><span class="n">_local_9</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(((((((((</span><span class="s2">&quot;sub ft0, v0, fc0\n&quot;</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="s2">&quot;sub ft0.zw, ft0.zw, ft0.zw\n&quot;</span><span class="o">)</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="s2">&quot;dp3 ft1, ft0, ft0\n&quot;</span><span class="o">)</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="s2">&quot;sqt ft1, ft1\n&quot;</span><span class="o">)</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="s2">&quot;div ft1.xy, ft1.xy, fc0.zz\n&quot;</span><span class="o">)</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="s2">&quot;pow ft1.x, ft1.x, fc0.w\n&quot;</span><span class="o">)</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="s2">&quot;mul ft0.xy, ft0.xy, ft1.xx\n&quot;</span><span class="o">)</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="s2">&quot;div ft0.xy, ft0.xy, ft1.yy\n&quot;</span><span class="o">)</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="s2">&quot;add ft0.xy, ft0.xy, fc0.xy\n&quot;</span><span class="o">)</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="s2">&quot;tex oc, ft0, fs0&lt;2d,clamp&gt;\n&quot;</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="n">var</span><span class=""> </span><span class="n">_local_10</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="s2">&quot;m44 op, va0, vc0\n&quot;</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="s2">&quot;mov v0, va1\n&quot;</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="n">_local_6</span><span class="o">.</span><span class="na">assemble</span><span class="o">(</span><span class="n">Context3DProgramType</span><span class="o">.</span><span class="na">VERTEX</span><span class="o">,</span><span class=""> </span><span class="n">_local_10</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_11</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">ByteArray</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_local_6</span><span class="o">.</span><span class="na">agalcode</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="n">_local_6</span><span class="o">.</span><span class="na">assemble</span><span class="o">(</span><span class="n">Context3DProgramType</span><span class="o">.</span><span class="na">FRAGMENT</span><span class="o">,</span><span class=""> </span><span class="n">_local_9</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_12</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">ByteArray</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_local_6</span><span class="o">.</span><span class="na">agalcode</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">blurPostProcessing_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_arg_1</span><span class="o">.</span><span class="na">createProgram</span><span class="o">();</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">blurPostProcessing_</span><span class="o">.</span><span class="na">upload</span><span class="o">(</span><span class="n">_local_11</span><span class="o">,</span><span class=""> </span><span class="n">_local_12</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="n">var</span><span class=""> </span><span class="n">_local_13</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">((</span><span class="s2">&quot;m44 op, va0, vc0\n&quot;</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="s2">&quot;mov v0, va1\n&quot;</span><span class="o">)</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="s2">&quot;mov v1, va2\n&quot;</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="n">_local_6</span><span class="o">.</span><span class="na">assemble</span><span class="o">(</span><span class="n">Context3DProgramType</span><span class="o">.</span><span class="na">VERTEX</span><span class="o">,</span><span class=""> </span><span class="n">_local_13</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_14</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">ByteArray</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_local_6</span><span class="o">.</span><span class="na">agalcode</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="n">var</span><span class=""> </span><span class="n">_local_15</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">((((</span><span class="s2">&quot;sub ft0.xy, v1.xy, fc4.xx\n&quot;</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="s2">&quot;mul ft0.xy, ft0.xy, ft0.xy\n&quot;</span><span class="o">)</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="s2">&quot;add ft0.x, ft0.x, ft0.y\n&quot;</span><span class="o">)</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="s2">&quot;slt ft0.y, ft0.x, fc4.y\n&quot;</span><span class="o">)</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="s2">&quot;mul oc, v0, ft0.yyyy\n&quot;</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="n">_local_6</span><span class="o">.</span><span class="na">assemble</span><span class="o">(</span><span class="n">Context3DProgramType</span><span class="o">.</span><span class="na">FRAGMENT</span><span class="o">,</span><span class=""> </span><span class="n">_local_15</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_16</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">ByteArray</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_local_6</span><span class="o">.</span><span class="na">agalcode</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">shadowProgram_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_arg_1</span><span class="o">.</span><span class="na">createProgram</span><span class="o">();</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">shadowProgram_</span><span class="o">.</span><span class="na">upload</span><span class="o">(</span><span class="n">_local_14</span><span class="o">,</span><span class=""> </span><span class="n">_local_16</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">sceneTexture_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_arg_1</span><span class="o">.</span><span class="na">createTexture</span><span class="o">(</span><span class="mh">0x0400</span><span class="o">,</span><span class=""> </span><span class="mh">0x0400</span><span class="o">,</span><span class=""> </span><span class="n">Context3DTextureFormat</span><span class="o">.</span><span class="na">BGRA</span><span class="o">,</span><span class=""> </span><span class="kc">true</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">postFilterVertexBuffer_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_arg_1</span><span class="o">.</span><span class="na">createVertexBuffer</span><span class="o">(</span><span class="mi">4</span><span class="o">,</span><span class=""> </span><span class="mi">4</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">postFilterVertexBuffer_</span><span class="o">.</span><span class="na">uploadFromVector</span><span class="o">(</span><span class="n">POST_FILTER_POSITIONS</span><span class="o">,</span><span class=""> </span><span class="mi">0</span><span class="o">,</span><span class=""> </span><span class="mi">4</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">postFilterIndexBuffer_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_arg_1</span><span class="o">.</span><span class="na">createIndexBuffer</span><span class="o">(</span><span class="mi">6</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">postFilterIndexBuffer_</span><span class="o">.</span><span class="na">uploadFromVector</span><span class="o">(</span><span class="n">POST_FILTER_TRIS</span><span class="o">,</span><span class=""> </span><span class="mi">0</span><span class="o">,</span><span class=""> </span><span class="mi">6</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">graphic3D_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">injector</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">Graphic3D</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">function </span><span class="nf">UpdateCameraMatrix</span><span class=""></span><span class="o">(</span><span class=""></span><span class="n">_arg_1</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Camera</span><span class=""></span><span class="o">)</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">void</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_2</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">-(</span><span class="n">_arg_1</span><span class="o">.</span><span class="na">angleRad_</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">f_</span><span class="o">.</span><span class="na">x</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">0</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">f_</span><span class="o">.</span><span class="na">y</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">0</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">f_</span><span class="o">.</span><span class="na">z</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">-</span><span class="mi">1</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">p_</span><span class="o">.</span><span class="na">x</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">-((</span><span class="n">_arg_1</span><span class="o">.</span><span class="na">x_</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">widthOffset_</span><span class="o">));</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">p_</span><span class="o">.</span><span class="na">y</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="n">_arg_1</span><span class="o">.</span><span class="na">y_</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">heightOffset_</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">p_</span><span class="o">.</span><span class="na">z</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">-(</span><span class="n">_arg_1</span><span class="o">.</span><span class="na">z_</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">r_</span><span class="o">.</span><span class="na">x</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">Math</span><span class="o">.</span><span class="na">cos</span><span class="o">(</span><span class="n">_local_2</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">r_</span><span class="o">.</span><span class="na">y</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">Math</span><span class="o">.</span><span class="na">sin</span><span class="o">(</span><span class="n">_local_2</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">r_</span><span class="o">.</span><span class="na">z</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">0</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">u_</span><span class="o">.</span><span class="na">x</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">Math</span><span class="o">.</span><span class="na">cos</span><span class="o">((</span><span class="n">_local_2</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="o">(</span><span class="n">Math</span><span class="o">.</span><span class="na">PI</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="mi">2</span><span class="o">)));</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">u_</span><span class="o">.</span><span class="na">y</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">Math</span><span class="o">.</span><span class="na">sin</span><span class="o">((</span><span class="n">_local_2</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="o">(</span><span class="n">Math</span><span class="o">.</span><span class="na">PI</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="mi">2</span><span class="o">)));</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">u_</span><span class="o">.</span><span class="na">z</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">0</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">rd_</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">r_</span><span class="o">.</span><span class="na">x</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">rd_</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">u_</span><span class="o">.</span><span class="na">x</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">rd_</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">f_</span><span class="o">.</span><span class="na">x</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">rd_</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">0</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">rd_</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">r_</span><span class="o">.</span><span class="na">y</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">rd_</span><span class="o">[</span><span class="mi">5</span><span class="o">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">u_</span><span class="o">.</span><span class="na">y</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">rd_</span><span class="o">[</span><span class="mi">6</span><span class="o">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">f_</span><span class="o">.</span><span class="na">y</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">rd_</span><span class="o">[</span><span class="mi">7</span><span class="o">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">0</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">rd_</span><span class="o">[</span><span class="mi">8</span><span class="o">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">r_</span><span class="o">.</span><span class="na">z</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">rd_</span><span class="o">[</span><span class="mi">9</span><span class="o">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">rd_</span><span class="o">[</span><span class="mi">10</span><span class="o">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">-(</span><span class="k">this</span><span class="o">.</span><span class="na">f_</span><span class="o">.</span><span class="na">z</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">rd_</span><span class="o">[</span><span class="mi">11</span><span class="o">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">0</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">rd_</span><span class="o">[</span><span class="mi">12</span><span class="o">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">p_</span><span class="o">.</span><span class="na">dotProduct</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">r_</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">rd_</span><span class="o">[</span><span class="mi">13</span><span class="o">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">p_</span><span class="o">.</span><span class="na">dotProduct</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">u_</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">rd_</span><span class="o">[</span><span class="mi">14</span><span class="o">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">-(</span><span class="k">this</span><span class="o">.</span><span class="na">p_</span><span class="o">.</span><span class="na">dotProduct</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">f_</span><span class="o">));</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">rd_</span><span class="o">[</span><span class="mi">15</span><span class="o">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_3</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Matrix3D</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="kt">Matrix3D</span><span class=""></span><span class="o">();</span><span class=""></span>
<span class="">        </span><span class="n">_local_3</span><span class="o">.</span><span class="na">rawData</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">rd_</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">cameraMatrix_</span><span class="o">.</span><span class="na">identity</span><span class="o">();</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">cameraMatrix_</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">_local_3</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">function </span><span class="nf">onRender</span><span class=""></span><span class="o">(</span><span class=""></span><span class="n">_arg_1</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Vector.&lt;IGraphicsData&gt;</span><span class=""></span><span class="o">,</span><span class=""> </span><span class="n">_arg_2</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Vector.&lt;Object3DStage3D&gt;</span><span class=""></span><span class="o">,</span><span class=""> </span><span class="n">_arg_3</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""></span><span class="o">,</span><span class=""> </span><span class="n">_arg_4</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""></span><span class="o">,</span><span class=""> </span><span class="n">_arg_5</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Camera</span><span class=""></span><span class="o">,</span><span class=""> </span><span class="n">_arg_6</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">uint</span><span class=""></span><span class="o">)</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">void</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="n">WebMain</span><span class="o">.</span><span class="na">STAGE</span><span class="o">.</span><span class="na">scaleMode</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">StageScaleMode</span><span class="o">.</span><span class="na">NO_SCALE</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(((!((((</span><span class="n">WebMain</span><span class="o">.</span><span class="na">STAGE</span><span class="o">.</span><span class="na">stageWidth</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="mi">3</span><span class="o">)</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="mi">4</span><span class="o">)</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">stageWidth</span><span class="o">)))</span><span class=""> </span><span class="o">||</span><span class=""> </span><span class="o">(!((</span><span class="n">WebMain</span><span class="o">.</span><span class="na">STAGE</span><span class="o">.</span><span class="na">stageHeight</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">stageHeight</span><span class="o">)))))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">this</span><span class="o">.</span><span class="na">resizeStage3DBackBuffer</span><span class="o">();</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">Renderer</span><span class="o">.</span><span class="na">inGame</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="kc">true</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">this</span><span class="o">.</span><span class="na">setTranslationToGame</span><span class="o">();</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">else</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">this</span><span class="o">.</span><span class="na">setTranslationToTitle</span><span class="o">();</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">_arg_6</span><span class=""> </span><span class="o">&gt;</span><span class=""> </span><span class="mi">0</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">this</span><span class="o">.</span><span class="na">renderWithPostEffect</span><span class="o">(</span><span class="n">_arg_1</span><span class="o">,</span><span class=""> </span><span class="n">_arg_2</span><span class="o">,</span><span class=""> </span><span class="n">_arg_3</span><span class="o">,</span><span class=""> </span><span class="n">_arg_4</span><span class="o">,</span><span class=""> </span><span class="n">_arg_5</span><span class="o">,</span><span class=""> </span><span class="n">_arg_6</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">else</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">this</span><span class="o">.</span><span class="na">renderScene</span><span class="o">(</span><span class="n">_arg_1</span><span class="o">,</span><span class=""> </span><span class="n">_arg_2</span><span class="o">,</span><span class=""> </span><span class="n">_arg_3</span><span class="o">,</span><span class=""> </span><span class="n">_arg_4</span><span class="o">,</span><span class=""> </span><span class="n">_arg_5</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">context3D</span><span class="o">.</span><span class="na">present</span><span class="o">();</span><span class=""></span>
<span class="">        </span><span class="n">WebMain</span><span class="o">.</span><span class="na">STAGE</span><span class="o">.</span><span class="na">scaleMode</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">StageScaleMode</span><span class="o">.</span><span class="na">EXACT_FIT</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">function </span><span class="nf">resizeStage3DBackBuffer</span><span class=""></span><span class="o">()</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">void</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">((((((</span><span class="n">WebMain</span><span class="o">.</span><span class="na">STAGE</span><span class="o">.</span><span class="na">stageWidth</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="mi">3</span><span class="o">)</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="mi">4</span><span class="o">)</span><span class=""> </span><span class="o">&lt;</span><span class=""> </span><span class="mi">1</span><span class="o">))</span><span class=""> </span><span class="o">||</span><span class=""> </span><span class="o">((</span><span class="n">WebMain</span><span class="o">.</span><span class="na">STAGE</span><span class="o">.</span><span class="na">stageHeight</span><span class=""> </span><span class="o">&lt;</span><span class=""> </span><span class="mi">1</span><span class="o">))))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">return</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_1</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Stage3D</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">WebMain</span><span class="o">.</span><span class="na">STAGE</span><span class="o">.</span><span class="na">stage3Ds</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span><span class=""></span>
<span class="">        </span><span class="n">_local_1</span><span class="o">.</span><span class="na">context3D</span><span class="o">.</span><span class="na">configureBackBuffer</span><span class="o">(((</span><span class="n">WebMain</span><span class="o">.</span><span class="na">STAGE</span><span class="o">.</span><span class="na">stageWidth</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="mi">3</span><span class="o">)</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="mi">4</span><span class="o">),</span><span class=""> </span><span class="n">WebMain</span><span class="o">.</span><span class="na">STAGE</span><span class="o">.</span><span class="na">stageHeight</span><span class="o">,</span><span class=""> </span><span class="mi">2</span><span class="o">,</span><span class=""> </span><span class="kc">false</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">stageWidth</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">((</span><span class="n">WebMain</span><span class="o">.</span><span class="na">STAGE</span><span class="o">.</span><span class="na">stageWidth</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="mi">3</span><span class="o">)</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="mi">4</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">stageHeight</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">WebMain</span><span class="o">.</span><span class="na">STAGE</span><span class="o">.</span><span class="na">stageHeight</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">function </span><span class="nf">renderWithPostEffect</span><span class=""></span><span class="o">(</span><span class=""></span><span class="n">_arg_1</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Vector.&lt;IGraphicsData&gt;</span><span class=""></span><span class="o">,</span><span class=""> </span><span class="n">_arg_2</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Vector.&lt;Object3DStage3D&gt;</span><span class=""></span><span class="o">,</span><span class=""> </span><span class="n">_arg_3</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""></span><span class="o">,</span><span class=""> </span><span class="n">_arg_4</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""></span><span class="o">,</span><span class=""> </span><span class="n">_arg_5</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Camera</span><span class=""></span><span class="o">,</span><span class=""> </span><span class="n">_arg_6</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">uint</span><span class=""></span><span class="o">)</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">void</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">context3D</span><span class="o">.</span><span class="na">GetContext3D</span><span class="o">().</span><span class="na">setRenderToTexture</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">sceneTexture_</span><span class="o">,</span><span class=""> </span><span class="kc">true</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">renderScene</span><span class="o">(</span><span class="n">_arg_1</span><span class="o">,</span><span class=""> </span><span class="n">_arg_2</span><span class="o">,</span><span class=""> </span><span class="n">_arg_3</span><span class="o">,</span><span class=""> </span><span class="n">_arg_4</span><span class="o">,</span><span class=""> </span><span class="n">_arg_5</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">context3D</span><span class="o">.</span><span class="na">GetContext3D</span><span class="o">().</span><span class="na">setRenderToBackBuffer</span><span class="o">();</span><span class=""></span>
<span class="">        </span><span class="k">switch</span><span class=""> </span><span class="o">(</span><span class="n">_arg_6</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">case</span><span class=""> </span><span class="n">STAGE3D_FILTER_PAUSE</span><span class=""></span><span class="p">:</span><span class=""></span>
<span class="">            </span><span class="kt">case</span><span class=""> </span><span class="n">STAGE3D_FILTER_BLIND</span><span class=""></span><span class="p">:</span><span class=""></span>
<span class="">                </span><span class="kt">this</span><span class=""></span><span class="o">.</span><span class="na">context3D</span><span class="o">.</span><span class="na">GetContext3D</span><span class="o">().</span><span class="na">setProgram</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">postProcessingProgram_</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="k">this</span><span class="o">.</span><span class="na">context3D</span><span class="o">.</span><span class="na">GetContext3D</span><span class="o">().</span><span class="na">setTextureAt</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">sceneTexture_</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="k">this</span><span class="o">.</span><span class="na">context3D</span><span class="o">.</span><span class="na">GetContext3D</span><span class="o">().</span><span class="na">clear</span><span class="o">(</span><span class="mf">0.5</span><span class="o">,</span><span class=""> </span><span class="mf">0.5</span><span class="o">,</span><span class=""> </span><span class="mf">0.5</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="k">this</span><span class="o">.</span><span class="na">context3D</span><span class="o">.</span><span class="na">GetContext3D</span><span class="o">().</span><span class="na">setVertexBufferAt</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">postFilterVertexBuffer_</span><span class="o">,</span><span class=""> </span><span class="mi">0</span><span class="o">,</span><span class=""> </span><span class="n">Context3DVertexBufferFormat</span><span class="o">.</span><span class="na">FLOAT_2</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="k">this</span><span class="o">.</span><span class="na">context3D</span><span class="o">.</span><span class="na">GetContext3D</span><span class="o">().</span><span class="na">setVertexBufferAt</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class=""> </span><span class="kc">null</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="k">break</span><span class="o">;</span><span class=""></span>
<span class="">            </span><span class="k">case</span><span class=""> </span><span class="n">STAGE3D_FILTER_DRUNK</span><span class=""></span><span class="p">:</span><span class=""></span>
<span class="">                </span><span class="kt">this</span><span class=""></span><span class="o">.</span><span class="na">context3D</span><span class="o">.</span><span class="na">GetContext3D</span><span class="o">().</span><span class="na">setProgram</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">blurPostProcessing_</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="k">this</span><span class="o">.</span><span class="na">context3D</span><span class="o">.</span><span class="na">GetContext3D</span><span class="o">().</span><span class="na">setTextureAt</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">sceneTexture_</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="k">this</span><span class="o">.</span><span class="na">context3D</span><span class="o">.</span><span class="na">GetContext3D</span><span class="o">().</span><span class="na">clear</span><span class="o">(</span><span class="mf">0.5</span><span class="o">,</span><span class=""> </span><span class="mf">0.5</span><span class="o">,</span><span class=""> </span><span class="mf">0.5</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="k">this</span><span class="o">.</span><span class="na">context3D</span><span class="o">.</span><span class="na">GetContext3D</span><span class="o">().</span><span class="na">setVertexBufferAt</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">postFilterVertexBuffer_</span><span class="o">,</span><span class=""> </span><span class="mi">0</span><span class="o">,</span><span class=""> </span><span class="n">Context3DVertexBufferFormat</span><span class="o">.</span><span class="na">FLOAT_2</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="k">this</span><span class="o">.</span><span class="na">context3D</span><span class="o">.</span><span class="na">GetContext3D</span><span class="o">().</span><span class="na">setVertexBufferAt</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">postFilterVertexBuffer_</span><span class="o">,</span><span class=""> </span><span class="mi">2</span><span class="o">,</span><span class=""> </span><span class="n">Context3DVertexBufferFormat</span><span class="o">.</span><span class="na">FLOAT_2</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="k">break</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">context3D</span><span class="o">.</span><span class="na">GetContext3D</span><span class="o">().</span><span class="na">setVertexBufferAt</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span><span class=""> </span><span class="kc">null</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">switch</span><span class=""> </span><span class="o">(</span><span class="n">_arg_6</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">case</span><span class=""> </span><span class="n">STAGE3D_FILTER_PAUSE</span><span class=""></span><span class="p">:</span><span class=""></span>
<span class="">                </span><span class="kt">this</span><span class=""></span><span class="o">.</span><span class="na">context3D</span><span class="o">.</span><span class="na">setProgramConstantsFromVector</span><span class="o">(</span><span class="n">Context3DProgramType</span><span class="o">.</span><span class="na">VERTEX</span><span class="o">,</span><span class=""> </span><span class="mi">0</span><span class="o">,</span><span class=""> </span><span class="n">POST_FILTER_VERTEX_CONSTANTS</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="k">this</span><span class="o">.</span><span class="na">context3D</span><span class="o">.</span><span class="na">setProgramConstantsFromVector</span><span class="o">(</span><span class="n">Context3DProgramType</span><span class="o">.</span><span class="na">FRAGMENT</span><span class="o">,</span><span class=""> </span><span class="mi">0</span><span class="o">,</span><span class=""> </span><span class="n">GRAYSCALE_FRAGMENT_CONSTANTS</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="k">break</span><span class="o">;</span><span class=""></span>
<span class="">            </span><span class="k">case</span><span class=""> </span><span class="n">STAGE3D_FILTER_BLIND</span><span class=""></span><span class="p">:</span><span class=""></span>
<span class="">                </span><span class="kt">this</span><span class=""></span><span class="o">.</span><span class="na">context3D</span><span class="o">.</span><span class="na">setProgramConstantsFromVector</span><span class="o">(</span><span class="n">Context3DProgramType</span><span class="o">.</span><span class="na">VERTEX</span><span class="o">,</span><span class=""> </span><span class="mi">0</span><span class="o">,</span><span class=""> </span><span class="n">POST_FILTER_VERTEX_CONSTANTS</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="k">this</span><span class="o">.</span><span class="na">context3D</span><span class="o">.</span><span class="na">setProgramConstantsFromVector</span><span class="o">(</span><span class="n">Context3DProgramType</span><span class="o">.</span><span class="na">FRAGMENT</span><span class="o">,</span><span class=""> </span><span class="mi">0</span><span class="o">,</span><span class=""> </span><span class="n">BLIND_FRAGMENT_CONSTANTS</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="k">break</span><span class="o">;</span><span class=""></span>
<span class="">            </span><span class="k">case</span><span class=""> </span><span class="n">STAGE3D_FILTER_DRUNK</span><span class=""></span><span class="p">:</span><span class=""></span>
<span class="">                </span><span class="kt">if</span><span class=""> </span><span class="o">((((</span><span class="k">this</span><span class="o">.</span><span class="na">blurFragmentConstants_</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span><span class=""> </span><span class="o">&lt;=</span><span class=""> </span><span class="mf">0.2</span><span class="o">))</span><span class=""> </span><span class="o">||</span><span class=""> </span><span class="o">((</span><span class="k">this</span><span class="o">.</span><span class="na">blurFragmentConstants_</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span><span class=""> </span><span class="o">&gt;=</span><span class=""> </span><span class="mf">1.8</span><span class="o">))))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                    </span><span class="k">this</span><span class="o">.</span><span class="na">blurFactor</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">blurFactor</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="o">-</span><span class="mi">1</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="o">}</span><span class=""></span>
<span class="">                </span><span class="k">this</span><span class="o">.</span><span class="na">blurFragmentConstants_</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">blurFragmentConstants_</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">blurFactor</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="k">this</span><span class="o">.</span><span class="na">context3D</span><span class="o">.</span><span class="na">setProgramConstantsFromMatrix</span><span class="o">(</span><span class="n">Context3DProgramType</span><span class="o">.</span><span class="na">VERTEX</span><span class="o">,</span><span class=""> </span><span class="mi">0</span><span class="o">,</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="kt">Matrix3D</span><span class=""></span><span class="o">());</span><span class=""></span>
<span class="">                </span><span class="k">this</span><span class="o">.</span><span class="na">context3D</span><span class="o">.</span><span class="na">setProgramConstantsFromVector</span><span class="o">(</span><span class="n">Context3DProgramType</span><span class="o">.</span><span class="na">FRAGMENT</span><span class="o">,</span><span class=""> </span><span class="mi">0</span><span class="o">,</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">blurFragmentConstants_</span><span class="o">,</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">blurFragmentConstants_</span><span class="o">.</span><span class="na">length</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="mi">4</span><span class="o">));</span><span class=""></span>
<span class="">                </span><span class="k">break</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">context3D</span><span class="o">.</span><span class="na">GetContext3D</span><span class="o">().</span><span class="na">clear</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class=""> </span><span class="mi">0</span><span class="o">,</span><span class=""> </span><span class="mi">0</span><span class="o">,</span><span class=""> </span><span class="mi">1</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">context3D</span><span class="o">.</span><span class="na">GetContext3D</span><span class="o">().</span><span class="na">drawTriangles</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">postFilterIndexBuffer_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">function </span><span class="nf">renderScene</span><span class=""></span><span class="o">(</span><span class=""></span><span class="n">graphicsDatas</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Vector.&lt;IGraphicsData&gt;</span><span class=""></span><span class="o">,</span><span class=""> </span><span class="n">grahpicsData3d</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Vector.&lt;Object3DStage3D&gt;</span><span class=""></span><span class="o">,</span><span class=""> </span><span class="n">mapWidth</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""></span><span class="o">,</span><span class=""> </span><span class="n">mapHeight</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""></span><span class="o">,</span><span class=""> </span><span class="n">camera</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Camera</span><span class=""></span><span class="o">)</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">void</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">test</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">graphicsData</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">IGraphicsData</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">context3D</span><span class="o">.</span><span class="na">clear</span><span class="o">();</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">finalTransform</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Matrix3D</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="kt">Matrix3D</span><span class=""></span><span class="o">();</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">index3d</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">uint</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">widthOffset_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(-(</span><span class="n">mapWidth</span><span class="o">)</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="mi">2</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">heightOffset_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="n">mapHeight</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="mi">2</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">UpdateCameraMatrix</span><span class="o">(</span><span class="n">camera</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">for</span><span class=""> </span><span class="k">each</span><span class=""> </span><span class="o">(</span><span class="n">graphicsData</span><span class=""> </span><span class="k">in</span><span class=""> </span><span class="n">graphicsDatas</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">this</span><span class="o">.</span><span class="na">context3D</span><span class="o">.</span><span class="na">GetContext3D</span><span class="o">().</span><span class="na">setCulling</span><span class="o">(</span><span class="n">Context3DTriangleFace</span><span class="o">.</span><span class="na">NONE</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">((((</span><span class="n">graphicsData</span><span class=""> </span><span class="k">is</span><span class=""> </span><span class="n">GraphicsBitmapFill</span><span class="o">))</span><span class=""> </span><span class="o">&amp;&amp;</span><span class=""> </span><span class="o">(!(</span><span class="n">GraphicsFillExtra</span><span class="o">.</span><span class="na">isSoftwareDraw</span><span class="o">(</span><span class="n">GraphicsBitmapFill</span><span class="o">(</span><span class="n">graphicsData</span><span class="o">))))))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="k">try</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                    </span><span class="n">test</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">GraphicsBitmapFill</span><span class="o">(</span><span class="n">graphicsData</span><span class="o">).</span><span class="na">bitmapData</span><span class="o">.</span><span class="na">width</span><span class="o">;</span><span class=""></span>
<span class="">                </span><span class="o">}</span><span class=""></span>
<span class="">                </span><span class="k">catch</span><span class=""> </span><span class="o">(</span><span class=""></span><span class="n">e</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Error</span><span class=""></span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                    </span><span class="k">continue</span><span class="o">;</span><span class=""></span>
<span class="">                </span><span class="o">}</span><span class=""></span>
<span class="">                </span><span class="k">this</span><span class="o">.</span><span class="na">graphic3D_</span><span class="o">.</span><span class="na">setGraphic</span><span class="o">(</span><span class="n">GraphicsBitmapFill</span><span class="o">(</span><span class="n">graphicsData</span><span class="o">),</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">context3D</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="n">finalTransform</span><span class="o">.</span><span class="na">identity</span><span class="o">();</span><span class=""></span>
<span class="">                </span><span class="n">finalTransform</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">graphic3D_</span><span class="o">.</span><span class="na">getMatrix3D</span><span class="o">());</span><span class=""></span>
<span class="">                </span><span class="n">finalTransform</span><span class="o">.</span><span class="na">appendScale</span><span class="o">((</span><span class="mi">1</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="n">Stage3DConfig</span><span class="o">.</span><span class="na">HALF_WIDTH</span><span class="o">),</span><span class=""> </span><span class="o">(</span><span class="mi">1</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="n">Stage3DConfig</span><span class="o">.</span><span class="na">HALF_HEIGHT</span><span class="o">),</span><span class=""> </span><span class="mi">1</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="n">finalTransform</span><span class="o">.</span><span class="na">appendTranslation</span><span class="o">((</span><span class="k">this</span><span class="o">.</span><span class="na">tX</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="n">Stage3DConfig</span><span class="o">.</span><span class="na">WIDTH</span><span class="o">),</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">tY</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="n">Stage3DConfig</span><span class="o">.</span><span class="na">HEIGHT</span><span class="o">),</span><span class=""> </span><span class="mi">0</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="k">this</span><span class="o">.</span><span class="na">context3D</span><span class="o">.</span><span class="na">setProgramConstantsFromMatrix</span><span class="o">(</span><span class="n">Context3DProgramType</span><span class="o">.</span><span class="na">VERTEX</span><span class="o">,</span><span class=""> </span><span class="mi">0</span><span class="o">,</span><span class=""> </span><span class="n">finalTransform</span><span class="o">,</span><span class=""> </span><span class="kc">true</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="k">this</span><span class="o">.</span><span class="na">graphic3D_</span><span class="o">.</span><span class="na">render</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">context3D</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">((</span><span class="n">graphicsData</span><span class=""> </span><span class="k">is</span><span class=""> </span><span class="n">GraphicsGradientFill</span><span class="o">))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="k">this</span><span class="o">.</span><span class="na">context3D</span><span class="o">.</span><span class="na">GetContext3D</span><span class="o">().</span><span class="na">setProgram</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">shadowProgram_</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="k">this</span><span class="o">.</span><span class="na">graphic3D_</span><span class="o">.</span><span class="na">setGradientFill</span><span class="o">(</span><span class="n">GraphicsGradientFill</span><span class="o">(</span><span class="n">graphicsData</span><span class="o">),</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">context3D</span><span class="o">,</span><span class=""> </span><span class="n">Stage3DConfig</span><span class="o">.</span><span class="na">HALF_WIDTH</span><span class="o">,</span><span class=""> </span><span class="n">Stage3DConfig</span><span class="o">.</span><span class="na">HALF_HEIGHT</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="n">finalTransform</span><span class="o">.</span><span class="na">identity</span><span class="o">();</span><span class=""></span>
<span class="">                </span><span class="n">finalTransform</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">graphic3D_</span><span class="o">.</span><span class="na">getMatrix3D</span><span class="o">());</span><span class=""></span>
<span class="">                </span><span class="n">finalTransform</span><span class="o">.</span><span class="na">appendTranslation</span><span class="o">((</span><span class="k">this</span><span class="o">.</span><span class="na">tX</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="n">Stage3DConfig</span><span class="o">.</span><span class="na">WIDTH</span><span class="o">),</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">tY</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="n">Stage3DConfig</span><span class="o">.</span><span class="na">HEIGHT</span><span class="o">),</span><span class=""> </span><span class="mi">0</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="k">this</span><span class="o">.</span><span class="na">context3D</span><span class="o">.</span><span class="na">setProgramConstantsFromMatrix</span><span class="o">(</span><span class="n">Context3DProgramType</span><span class="o">.</span><span class="na">VERTEX</span><span class="o">,</span><span class=""> </span><span class="mi">0</span><span class="o">,</span><span class=""> </span><span class="n">finalTransform</span><span class="o">,</span><span class=""> </span><span class="kc">true</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="k">this</span><span class="o">.</span><span class="na">context3D</span><span class="o">.</span><span class="na">setProgramConstantsFromVector</span><span class="o">(</span><span class="n">Context3DProgramType</span><span class="o">.</span><span class="na">FRAGMENT</span><span class="o">,</span><span class=""> </span><span class="mi">4</span><span class="o">,</span><span class=""> </span><span class="n">Vector</span><span class="o">.&lt;</span><span class="n">Number</span><span class="o">&gt;([</span><span class="mf">0.5</span><span class="o">,</span><span class=""> </span><span class="mf">0.25</span><span class="o">,</span><span class=""> </span><span class="mi">0</span><span class="o">,</span><span class=""> </span><span class="mi">0</span><span class="o">]));</span><span class=""></span>
<span class="">                </span><span class="k">this</span><span class="o">.</span><span class="na">graphic3D_</span><span class="o">.</span><span class="na">renderShadow</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">context3D</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">((((</span><span class="n">graphicsData</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="kc">null</span><span class="o">))</span><span class=""> </span><span class="o">&amp;&amp;</span><span class=""> </span><span class="o">(!((</span><span class="n">grahpicsData3d</span><span class="o">.</span><span class="na">length</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="mi">0</span><span class="o">)))))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="k">try</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                    </span><span class="k">this</span><span class="o">.</span><span class="na">context3D</span><span class="o">.</span><span class="na">GetContext3D</span><span class="o">().</span><span class="na">setProgram</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">program2</span><span class="o">);</span><span class=""></span>
<span class="">                    </span><span class="k">this</span><span class="o">.</span><span class="na">context3D</span><span class="o">.</span><span class="na">GetContext3D</span><span class="o">().</span><span class="na">setCulling</span><span class="o">(</span><span class="n">Context3DTriangleFace</span><span class="o">.</span><span class="na">BACK</span><span class="o">);</span><span class=""></span>
<span class="">                    </span><span class="n">grahpicsData3d</span><span class="o">[</span><span class="n">index3d</span><span class="o">].</span><span class="na">UpdateModelMatrix</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">widthOffset_</span><span class="o">,</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">heightOffset_</span><span class="o">);</span><span class=""></span>
<span class="">                    </span><span class="n">finalTransform</span><span class="o">.</span><span class="na">identity</span><span class="o">();</span><span class=""></span>
<span class="">                    </span><span class="n">finalTransform</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">grahpicsData3d</span><span class="o">[</span><span class="n">index3d</span><span class="o">].</span><span class="na">GetModelMatrix</span><span class="o">());</span><span class=""></span>
<span class="">                    </span><span class="n">finalTransform</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">cameraMatrix_</span><span class="o">);</span><span class=""></span>
<span class="">                    </span><span class="n">finalTransform</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">_projection</span><span class="o">);</span><span class=""></span>
<span class="">                    </span><span class="n">finalTransform</span><span class="o">.</span><span class="na">appendTranslation</span><span class="o">((</span><span class="k">this</span><span class="o">.</span><span class="na">tX</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="n">Stage3DConfig</span><span class="o">.</span><span class="na">WIDTH</span><span class="o">),</span><span class=""> </span><span class="o">((</span><span class="k">this</span><span class="o">.</span><span class="na">tY</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="n">Stage3DConfig</span><span class="o">.</span><span class="na">HEIGHT</span><span class="o">)</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="mf">11.5</span><span class="o">),</span><span class=""> </span><span class="mi">0</span><span class="o">);</span><span class=""></span>
<span class="">                    </span><span class="k">this</span><span class="o">.</span><span class="na">context3D</span><span class="o">.</span><span class="na">setProgramConstantsFromMatrix</span><span class="o">(</span><span class="n">Context3DProgramType</span><span class="o">.</span><span class="na">VERTEX</span><span class="o">,</span><span class=""> </span><span class="mi">0</span><span class="o">,</span><span class=""> </span><span class="n">finalTransform</span><span class="o">,</span><span class=""> </span><span class="kc">true</span><span class="o">);</span><span class=""></span>
<span class="">                    </span><span class="k">this</span><span class="o">.</span><span class="na">context3D</span><span class="o">.</span><span class="na">setProgramConstantsFromMatrix</span><span class="o">(</span><span class="n">Context3DProgramType</span><span class="o">.</span><span class="na">VERTEX</span><span class="o">,</span><span class=""> </span><span class="mi">8</span><span class="o">,</span><span class=""> </span><span class="n">grahpicsData3d</span><span class="o">[</span><span class="n">index3d</span><span class="o">].</span><span class="na">GetModelMatrix</span><span class="o">(),</span><span class=""> </span><span class="kc">true</span><span class="o">);</span><span class=""></span>
<span class="">                    </span><span class="n">grahpicsData3d</span><span class="o">[</span><span class="n">index3d</span><span class="o">].</span><span class="na">draw</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">context3D</span><span class="o">.</span><span class="na">GetContext3D</span><span class="o">());</span><span class=""></span>
<span class="">                    </span><span class="n">index3d</span><span class="o">++;</span><span class=""></span>
<span class="">                </span><span class="o">}</span><span class=""></span>
<span class="">                </span><span class="k">catch</span><span class=""> </span><span class="o">(</span><span class=""></span><span class="n">e</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Error</span><span class=""></span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">function </span><span class="nf">setTranslationToGame</span><span class=""></span><span class="o">()</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">void</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">tX</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">0</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">tY</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">((</span><span class="n">Parameters</span><span class="o">.</span><span class="na">data_</span><span class="o">.</span><span class="na">centerOnPlayer</span><span class="o">)</span><span class=""> </span><span class="o">?</span><span class=""> </span><span class="o">-</span><span class="mi">50</span><span class=""> </span><span class="o">:</span><span class=""> </span><span class="o">((</span><span class="n">Camera</span><span class="o">.</span><span class="na">OFFSET_SCREEN_RECT</span><span class="o">.</span><span class="na">y</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="o">(</span><span class="n">Camera</span><span class="o">.</span><span class="na">CENTER_SCREEN_RECT</span><span class="o">.</span><span class="na">height</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="mi">2</span><span class="o">))</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="mi">2</span><span class="o">));</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">function </span><span class="nf">setTranslationToTitle</span><span class=""></span><span class="o">()</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">void</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">tX</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">tY</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">0</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class=""></span>
<span class=""></span><span class="o">}</span><span class=""></span>
<span class=""></span><span class="o">}//</span><span class="k">package</span><span class=""> </span><span class="nn">kabam.rotmg.stage3D</span><span class=""></span>
</pre></div>
n>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">function </span><span class="nf">setTranslationToTitle</span><span class=""></span><span class="o">()</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">void</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">tX</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">tY</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">0</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class=""></span>
<span class=""></span><span class="o">}</span><span class=""></span>
<span class=""></span><span class="o">}//</span><span class="k">package</span><span class=""> </span><span class="nn">kabam.rotmg.stage3D</span><span class=""></span>
</pre></div>
<span class=""> </span><span class="o">(</span><span class="n">_local_4</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="n">_local_6</span><span class="o">)),</span><span class=""> </span><span class="o">(</span><span class="n">_arg_3</span><span class="o">.</span><span class="na">y</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="o">(</span><span class="n">_local_5</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="n">_local_6</span><span class="o">)),</span><span class=""> </span><span class="n">_arg_3</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="n">_local_7</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="n">_local_7</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="n">_local_6</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function </span><span class="nf">modifyStep</span><span class=""></span><span class="o">(</span><span class=""></span><span class="n">_arg_1</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""></span><span class="o">,</span><span class=""> </span><span class="n">_arg_2</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""></span><span class="o">,</span><span class=""> </span><span class="n">_arg_3</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Point</span><span class=""></span><span class="o">)</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">void</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_6</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_7</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_4</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Boolean</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">((((((</span><span class="n">x_</span><span class=""> </span><span class="o">%</span><span class=""> </span><span class="mf">0.5</span><span class="o">)</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="mi">0</span><span class="o">))</span><span class=""> </span><span class="o">&amp;&amp;</span><span class=""> </span><span class="o">(!((</span><span class="n">_arg_1</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="n">x_</span><span class="o">)))))</span><span class=""> </span><span class="o">||</span><span class=""> </span><span class="o">(!((</span><span class="n">int</span><span class="o">((</span><span class="n">x_</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="mf">0.5</span><span class="o">))</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="n">int</span><span class="o">((</span><span class="n">_arg_1</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="mf">0.5</span><span class="o">))))));</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_5</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Boolean</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">((((((</span><span class="n">y_</span><span class=""> </span><span class="o">%</span><span class=""> </span><span class="mf">0.5</span><span class="o">)</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="mi">0</span><span class="o">))</span><span class=""> </span><span class="o">&amp;&amp;</span><span class=""> </span><span class="o">(!((</span><span class="n">_arg_2</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="n">y_</span><span class="o">)))))</span><span class=""> </span><span class="o">||</span><span class=""> </span><span class="o">(!((</span><span class="n">int</span><span class="o">((</span><span class="n">y_</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="mf">0.5</span><span class="o">))</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="n">int</span><span class="o">((</span><span class="n">_arg_2</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="mf">0.5</span><span class="o">))))));</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(((((!(</span><span class="n">_local_4</span><span class="o">))</span><span class=""> </span><span class="o">&amp;&amp;</span><span class=""> </span><span class="o">(!(</span><span class="n">_local_5</span><span class="o">))))</span><span class=""> </span><span class="o">||</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">isValidPosition</span><span class="o">(</span><span class="n">_arg_1</span><span class="o">,</span><span class=""> </span><span class="n">_arg_2</span><span class="o">))))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="n">_arg_3</span><span class="o">.</span><span class="na">x</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_arg_1</span><span class="o">;</span><span class=""></span>
<span class="">            </span><span class="n">_arg_3</span><span class="o">.</span><span class="na">y</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_arg_2</span><span class="o">;</span><span class=""></span>
<span class="">            </span><span class="k">return</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">_local_4</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="n">_local_6</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(((</span><span class="n">_arg_1</span><span class="o">)</span><span class=""> </span><span class="o">&gt;</span><span class=""> </span><span class="n">x_</span><span class="o">)</span><span class=""> </span><span class="o">?</span><span class=""> </span><span class="o">(</span><span class="n">int</span><span class="o">((</span><span class="n">_arg_1</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="mi">2</span><span class="o">))</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="mi">2</span><span class="o">)</span><span class=""> </span><span class="o">:</span><span class=""> </span><span class="o">(</span><span class="n">int</span><span class="o">((</span><span class="n">x_</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="mi">2</span><span class="o">))</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="mi">2</span><span class="o">));</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">int</span><span class="o">(</span><span class="n">_local_6</span><span class="o">)</span><span class=""> </span><span class="o">&gt;</span><span class=""> </span><span class="n">int</span><span class="o">(</span><span class="n">x_</span><span class="o">))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="n">_local_6</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="n">_local_6</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="mf">0.01</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">_local_5</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="n">_local_7</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(((</span><span class="n">_arg_2</span><span class="o">)</span><span class=""> </span><span class="o">&gt;</span><span class=""> </span><span class="n">y_</span><span class="o">)</span><span class=""> </span><span class="o">?</span><span class=""> </span><span class="o">(</span><span class="n">int</span><span class="o">((</span><span class="n">_arg_2</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="mi">2</span><span class="o">))</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="mi">2</span><span class="o">)</span><span class=""> </span><span class="o">:</span><span class=""> </span><span class="o">(</span><span class="n">int</span><span class="o">((</span><span class="n">y_</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="mi">2</span><span class="o">))</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="mi">2</span><span class="o">));</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">int</span><span class="o">(</span><span class="n">_local_7</span><span class="o">)</span><span class=""> </span><span class="o">&gt;</span><span class=""> </span><span class="n">int</span><span class="o">(</span><span class="n">y_</span><span class="o">))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="n">_local_7</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="n">_local_7</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="mf">0.01</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(!</span><span class="n">_local_4</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="n">_arg_3</span><span class="o">.</span><span class="na">x</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_arg_1</span><span class="o">;</span><span class=""></span>
<span class="">            </span><span class="n">_arg_3</span><span class="o">.</span><span class="na">y</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_local_7</span><span class="o">;</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(((!((</span><span class="n">square_</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="kc">null</span><span class="o">)))</span><span class=""> </span><span class="o">&amp;&amp;</span><span class=""> </span><span class="o">(!((</span><span class="n">square_</span><span class="o">.</span><span class="na">props_</span><span class="o">.</span><span class="na">slideAmount_</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="mi">0</span><span class="o">)))))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="k">this</span><span class="o">.</span><span class="na">resetMoveVector</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="k">return</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(!</span><span class="n">_local_5</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="n">_arg_3</span><span class="o">.</span><span class="na">x</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_local_6</span><span class="o">;</span><span class=""></span>
<span class="">            </span><span class="n">_arg_3</span><span class="o">.</span><span class="na">y</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_arg_2</span><span class="o">;</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(((!((</span><span class="n">square_</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="kc">null</span><span class="o">)))</span><span class=""> </span><span class="o">&amp;&amp;</span><span class=""> </span><span class="o">(!((</span><span class="n">square_</span><span class="o">.</span><span class="na">props_</span><span class="o">.</span><span class="na">slideAmount_</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="mi">0</span><span class="o">)))))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="k">this</span><span class="o">.</span><span class="na">resetMoveVector</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="k">return</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_8</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(((</span><span class="n">_arg_1</span><span class="o">)</span><span class=""> </span><span class="o">&gt;</span><span class=""> </span><span class="n">x_</span><span class="o">)</span><span class=""> </span><span class="o">?</span><span class=""> </span><span class="o">(</span><span class="n">_arg_1</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="n">_local_6</span><span class="o">)</span><span class=""> </span><span class="o">:</span><span class=""> </span><span class="o">(</span><span class="n">_local_6</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="n">_arg_1</span><span class="o">));</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_9</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(((</span><span class="n">_arg_2</span><span class="o">)</span><span class=""> </span><span class="o">&gt;</span><span class=""> </span><span class="n">y_</span><span class="o">)</span><span class=""> </span><span class="o">?</span><span class=""> </span><span class="o">(</span><span class="n">_arg_2</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="n">_local_7</span><span class="o">)</span><span class=""> </span><span class="o">:</span><span class=""> </span><span class="o">(</span><span class="n">_local_7</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="n">_arg_2</span><span class="o">));</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">_local_8</span><span class=""> </span><span class="o">&gt;</span><span class=""> </span><span class="n">_local_9</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">isValidPosition</span><span class="o">(</span><span class="n">_arg_1</span><span class="o">,</span><span class=""> </span><span class="n">_local_7</span><span class="o">))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="n">_arg_3</span><span class="o">.</span><span class="na">x</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_arg_1</span><span class="o">;</span><span class=""></span>
<span class="">                </span><span class="n">_arg_3</span><span class="o">.</span><span class="na">y</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_local_7</span><span class="o">;</span><span class=""></span>
<span class="">                </span><span class="k">return</span><span class="o">;</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">isValidPosition</span><span class="o">(</span><span class="n">_local_6</span><span class="o">,</span><span class=""> </span><span class="n">_arg_2</span><span class="o">))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="n">_arg_3</span><span class="o">.</span><span class="na">x</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_local_6</span><span class="o">;</span><span class=""></span>
<span class="">                </span><span class="n">_arg_3</span><span class="o">.</span><span class="na">y</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_arg_2</span><span class="o">;</span><span class=""></span>
<span class="">                </span><span class="k">return</span><span class="o">;</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">else</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">isValidPosition</span><span class="o">(</span><span class="n">_local_6</span><span class="o">,</span><span class=""> </span><span class="n">_arg_2</span><span class="o">))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="n">_arg_3</span><span class="o">.</span><span class="na">x</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_local_6</span><span class="o">;</span><span class=""></span>
<span class="">                </span><span class="n">_arg_3</span><span class="o">.</span><span class="na">y</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_arg_2</span><span class="o">;</span><span class=""></span>
<span class="">                </span><span class="k">return</span><span class="o">;</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">isValidPosition</span><span class="o">(</span><span class="n">_arg_1</span><span class="o">,</span><span class=""> </span><span class="n">_local_7</span><span class="o">))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="n">_arg_3</span><span class="o">.</span><span class="na">x</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_arg_1</span><span class="o">;</span><span class=""></span>
<span class="">                </span><span class="n">_arg_3</span><span class="o">.</span><span class="na">y</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_local_7</span><span class="o">;</span><span class=""></span>
<span class="">                </span><span class="k">return</span><span class="o">;</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="n">_arg_3</span><span class="o">.</span><span class="na">x</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_local_6</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="n">_arg_3</span><span class="o">.</span><span class="na">y</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_local_7</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">function </span><span class="nf">resetMoveVector</span><span class=""></span><span class="o">(</span><span class=""></span><span class="n">_arg_1</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Boolean</span><span class=""></span><span class="o">)</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">void</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="n">moveVec_</span><span class="o">.</span><span class="na">scaleBy</span><span class="o">(-</span><span class="mf">0.5</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">_arg_1</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="n">moveVec_</span><span class="o">.</span><span class="na">y</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="n">moveVec_</span><span class="o">.</span><span class="na">y</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="o">-</span><span class="mi">1</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">else</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="n">moveVec_</span><span class="o">.</span><span class="na">x</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="n">moveVec_</span><span class="o">.</span><span class="na">x</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="o">-</span><span class="mi">1</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function </span><span class="nf">isValidPosition</span><span class=""></span><span class="o">(</span><span class=""></span><span class="n">_arg_1</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""></span><span class="o">,</span><span class=""> </span><span class="n">_arg_2</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""></span><span class="o">)</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Boolean</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_3</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Square</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">map_</span><span class="o">.</span><span class="na">getSquare</span><span class="o">(</span><span class="n">_arg_1</span><span class="o">,</span><span class=""> </span><span class="n">_arg_2</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(((!((</span><span class="n">square_</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="n">_local_3</span><span class="o">)))</span><span class=""> </span><span class="o">&amp;&amp;</span><span class=""> </span><span class="o">((((</span><span class="n">_local_3</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="kc">null</span><span class="o">))</span><span class=""> </span><span class="o">||</span><span class=""> </span><span class="o">(!(</span><span class="n">_local_3</span><span class="o">.</span><span class="na">isWalkable</span><span class="o">()))))))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="kc">false</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_4</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="n">_arg_1</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="n">int</span><span class="o">(</span><span class="n">_arg_1</span><span class="o">));</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_5</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="n">_arg_2</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="n">int</span><span class="o">(</span><span class="n">_arg_2</span><span class="o">));</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">_local_4</span><span class=""> </span><span class="o">&lt;</span><span class=""> </span><span class="mf">0.5</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">isFullOccupy</span><span class="o">((</span><span class="n">_arg_1</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="mi">1</span><span class="o">),</span><span class=""> </span><span class="n">_arg_2</span><span class="o">))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="kc">false</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">_local_5</span><span class=""> </span><span class="o">&lt;</span><span class=""> </span><span class="mf">0.5</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="k">if</span><span class=""> </span><span class="o">(((</span><span class="k">this</span><span class="o">.</span><span class="na">isFullOccupy</span><span class="o">(</span><span class="n">_arg_1</span><span class="o">,</span><span class=""> </span><span class="o">(</span><span class="n">_arg_2</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="mi">1</span><span class="o">)))</span><span class=""> </span><span class="o">||</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">isFullOccupy</span><span class="o">((</span><span class="n">_arg_1</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="mi">1</span><span class="o">),</span><span class=""> </span><span class="o">(</span><span class="n">_arg_2</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="mi">1</span><span class="o">)))))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                    </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="kc">false</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="k">else</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">_local_5</span><span class=""> </span><span class="o">&gt;</span><span class=""> </span><span class="mf">0.5</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                    </span><span class="k">if</span><span class=""> </span><span class="o">(((</span><span class="k">this</span><span class="o">.</span><span class="na">isFullOccupy</span><span class="o">(</span><span class="n">_arg_1</span><span class="o">,</span><span class=""> </span><span class="o">(</span><span class="n">_arg_2</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="mi">1</span><span class="o">)))</span><span class=""> </span><span class="o">||</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">isFullOccupy</span><span class="o">((</span><span class="n">_arg_1</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="mi">1</span><span class="o">),</span><span class=""> </span><span class="o">(</span><span class="n">_arg_2</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="mi">1</span><span class="o">)))))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="kc">false</span><span class="o">);</span><span class=""></span>
<span class="">                    </span><span class="o">}</span><span class=""></span>
<span class="">                </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">else</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">_local_4</span><span class=""> </span><span class="o">&gt;</span><span class=""> </span><span class="mf">0.5</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">isFullOccupy</span><span class="o">((</span><span class="n">_arg_1</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="mi">1</span><span class="o">),</span><span class=""> </span><span class="n">_arg_2</span><span class="o">))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                    </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="kc">false</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="o">}</span><span class=""></span>
<span class="">                </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">_local_5</span><span class=""> </span><span class="o">&lt;</span><span class=""> </span><span class="mf">0.5</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                    </span><span class="k">if</span><span class=""> </span><span class="o">(((</span><span class="k">this</span><span class="o">.</span><span class="na">isFullOccupy</span><span class="o">(</span><span class="n">_arg_1</span><span class="o">,</span><span class=""> </span><span class="o">(</span><span class="n">_arg_2</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="mi">1</span><span class="o">)))</span><span class=""> </span><span class="o">||</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">isFullOccupy</span><span class="o">((</span><span class="n">_arg_1</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="mi">1</span><span class="o">),</span><span class=""> </span><span class="o">(</span><span class="n">_arg_2</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="mi">1</span><span class="o">)))))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="kc">false</span><span class="o">);</span><span class=""></span>
<span class="">                    </span><span class="o">}</span><span class=""></span>
<span class="">                </span><span class="o">}</span><span class=""></span>
<span class="">                </span><span class="k">else</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                    </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">_local_5</span><span class=""> </span><span class="o">&gt;</span><span class=""> </span><span class="mf">0.5</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                        </span><span class="k">if</span><span class=""> </span><span class="o">(((</span><span class="k">this</span><span class="o">.</span><span class="na">isFullOccupy</span><span class="o">(</span><span class="n">_arg_1</span><span class="o">,</span><span class=""> </span><span class="o">(</span><span class="n">_arg_2</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="mi">1</span><span class="o">)))</span><span class=""> </span><span class="o">||</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">isFullOccupy</span><span class="o">((</span><span class="n">_arg_1</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="mi">1</span><span class="o">),</span><span class=""> </span><span class="o">(</span><span class="n">_arg_2</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="mi">1</span><span class="o">)))))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                            </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="kc">false</span><span class="o">);</span><span class=""></span>
<span class="">                        </span><span class="o">}</span><span class=""></span>
<span class="">                    </span><span class="o">}</span><span class=""></span>
<span class="">                </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="k">else</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">_local_5</span><span class=""> </span><span class="o">&lt;</span><span class=""> </span><span class="mf">0.5</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                    </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">isFullOccupy</span><span class="o">(</span><span class="n">_arg_1</span><span class="o">,</span><span class=""> </span><span class="o">(</span><span class="n">_arg_2</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="mi">1</span><span class="o">)))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="kc">false</span><span class="o">);</span><span class=""></span>
<span class="">                    </span><span class="o">}</span><span class=""></span>
<span class="">                </span><span class="o">}</span><span class=""></span>
<span class="">                </span><span class="k">else</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                    </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">_local_5</span><span class=""> </span><span class="o">&gt;</span><span class=""> </span><span class="mf">0.5</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                        </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">isFullOccupy</span><span class="o">(</span><span class="n">_arg_1</span><span class="o">,</span><span class=""> </span><span class="o">(</span><span class="n">_arg_2</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="mi">1</span><span class="o">)))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                            </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="kc">false</span><span class="o">);</span><span class=""></span>
<span class="">                        </span><span class="o">}</span><span class=""></span>
<span class="">                    </span><span class="o">}</span><span class=""></span>
<span class="">                </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="kc">true</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function </span><span class="nf">isFullOccupy</span><span class=""></span><span class="o">(</span><span class=""></span><span class="n">_arg_1</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""></span><span class="o">,</span><span class=""> </span><span class="n">_arg_2</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""></span><span class="o">)</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Boolean</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_3</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Square</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">map_</span><span class="o">.</span><span class="na">lookupSquare</span><span class="o">(</span><span class="n">_arg_1</span><span class="o">,</span><span class=""> </span><span class="n">_arg_2</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">((((((</span><span class="n">_local_3</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="kc">null</span><span class="o">))</span><span class=""> </span><span class="o">||</span><span class=""> </span><span class="o">((</span><span class="n">_local_3</span><span class="o">.</span><span class="na">tileType_</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="mh">0xFF</span><span class="o">))))</span><span class=""> </span><span class="o">||</span><span class=""> </span><span class="o">(((!((</span><span class="n">_local_3</span><span class="o">.</span><span class="na">obj_</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="kc">null</span><span class="o">)))</span><span class=""> </span><span class="o">&amp;&amp;</span><span class=""> </span><span class="o">(</span><span class="n">_local_3</span><span class="o">.</span><span class="na">obj_</span><span class="o">.</span><span class="na">props_</span><span class="o">.</span><span class="na">fullOccupy_</span><span class="o">)))));</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">override</span><span class=""> </span><span class="kd">public</span><span class=""> </span><span class="kd">function </span><span class="nf">update</span><span class=""></span><span class="o">(</span><span class=""></span><span class="n">_arg_1</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class=""></span><span class="o">,</span><span class=""> </span><span class="n">_arg_2</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class=""></span><span class="o">)</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Boolean</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_3</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_4</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_5</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_6</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Vector3D</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_7</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_8</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_9</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Vector.&lt;uint&gt;</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(((</span><span class="k">this</span><span class="o">.</span><span class="na">tierBoost</span><span class="o">)</span><span class=""> </span><span class="o">&amp;&amp;</span><span class=""> </span><span class="o">(!(</span><span class="n">isPaused</span><span class="o">()))))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">this</span><span class="o">.</span><span class="na">tierBoost</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">tierBoost</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="n">_arg_2</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">tierBoost</span><span class=""> </span><span class="o">&lt;</span><span class=""> </span><span class="mi">0</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="k">this</span><span class="o">.</span><span class="na">tierBoost</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">0</span><span class="o">;</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(((</span><span class="k">this</span><span class="o">.</span><span class="na">dropBoost</span><span class="o">)</span><span class=""> </span><span class="o">&amp;&amp;</span><span class=""> </span><span class="o">(!(</span><span class="n">isPaused</span><span class="o">()))))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">this</span><span class="o">.</span><span class="na">dropBoost</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">dropBoost</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="n">_arg_2</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">dropBoost</span><span class=""> </span><span class="o">&lt;</span><span class=""> </span><span class="mi">0</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="k">this</span><span class="o">.</span><span class="na">dropBoost</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">0</span><span class="o">;</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(((</span><span class="k">this</span><span class="o">.</span><span class="na">xpTimer</span><span class="o">)</span><span class=""> </span><span class="o">&amp;&amp;</span><span class=""> </span><span class="o">(!(</span><span class="n">isPaused</span><span class="o">()))))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">this</span><span class="o">.</span><span class="na">xpTimer</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">xpTimer</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="n">_arg_2</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">xpTimer</span><span class=""> </span><span class="o">&lt;</span><span class=""> </span><span class="mi">0</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="k">this</span><span class="o">.</span><span class="na">xpTimer</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">0</span><span class="o">;</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(((</span><span class="n">isHealing</span><span class="o">())</span><span class=""> </span><span class="o">&amp;&amp;</span><span class=""> </span><span class="o">(!(</span><span class="n">isPaused</span><span class="o">()))))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">healingEffect_</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="kc">null</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="k">this</span><span class="o">.</span><span class="na">healingEffect_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="kt">HealingEffect</span><span class=""></span><span class="o">(</span><span class="k">this</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="n">map_</span><span class="o">.</span><span class="na">addObj</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">healingEffect_</span><span class="o">,</span><span class=""> </span><span class="n">x_</span><span class="o">,</span><span class=""> </span><span class="n">y_</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">else</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">healingEffect_</span><span class=""> </span><span class="o">!=</span><span class=""> </span><span class="kc">null</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="n">map_</span><span class="o">.</span><span class="na">removeObj</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">healingEffect_</span><span class="o">.</span><span class="na">objectId_</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="k">this</span><span class="o">.</span><span class="na">healingEffect_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="kc">null</span><span class="o">;</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">((((</span><span class="n">map_</span><span class="o">.</span><span class="na">player_</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="k">this</span><span class="o">))</span><span class=""> </span><span class="o">&amp;&amp;</span><span class=""> </span><span class="o">(</span><span class="n">isPaused</span><span class="o">())))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="kc">true</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">relMoveVec_</span><span class=""> </span><span class="o">!=</span><span class=""> </span><span class="kc">null</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="n">_local_3</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">Parameters</span><span class="o">.</span><span class="na">data_</span><span class="o">.</span><span class="na">cameraAngle</span><span class="o">;</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">rotate_</span><span class=""> </span><span class="o">!=</span><span class=""> </span><span class="mi">0</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="n">_local_3</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="n">_local_3</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="o">((</span><span class="n">_arg_2</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="n">Parameters</span><span class="o">.</span><span class="na">PLAYER_ROTATE_SPEED</span><span class="o">)</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">rotate_</span><span class="o">));</span><span class=""></span>
<span class="">                </span><span class="n">Parameters</span><span class="o">.</span><span class="na">data_</span><span class="o">.</span><span class="na">cameraAngle</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_local_3</span><span class="o">;</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(((!((</span><span class="k">this</span><span class="o">.</span><span class="na">relMoveVec_</span><span class="o">.</span><span class="na">x</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="mi">0</span><span class="o">)))</span><span class=""> </span><span class="o">||</span><span class=""> </span><span class="o">(!((</span><span class="k">this</span><span class="o">.</span><span class="na">relMoveVec_</span><span class="o">.</span><span class="na">y</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="mi">0</span><span class="o">)))))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="n">_local_4</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">getMoveSpeed</span><span class="o">();</span><span class=""></span>
<span class="">                </span><span class="n">_local_5</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">Math</span><span class="o">.</span><span class="na">atan2</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">relMoveVec_</span><span class="o">.</span><span class="na">y</span><span class="o">,</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">relMoveVec_</span><span class="o">.</span><span class="na">x</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">square_</span><span class="o">.</span><span class="na">props_</span><span class="o">.</span><span class="na">slideAmount_</span><span class=""> </span><span class="o">&gt;</span><span class=""> </span><span class="mi">0</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                    </span><span class="n">_local_6</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="kt">Vector3D</span><span class=""></span><span class="o">();</span><span class=""></span>
<span class="">                    </span><span class="n">_local_6</span><span class="o">.</span><span class="na">x</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="n">_local_4</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="n">Math</span><span class="o">.</span><span class="na">cos</span><span class="o">((</span><span class="n">_local_3</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="n">_local_5</span><span class="o">)));</span><span class=""></span>
<span class="">                    </span><span class="n">_local_6</span><span class="o">.</span><span class="na">y</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="n">_local_4</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="n">Math</span><span class="o">.</span><span class="na">sin</span><span class="o">((</span><span class="n">_local_3</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="n">_local_5</span><span class="o">)));</span><span class=""></span>
<span class="">                    </span><span class="n">_local_6</span><span class="o">.</span><span class="na">z</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">0</span><span class="o">;</span><span class=""></span>
<span class="">                    </span><span class="n">_local_7</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_local_6</span><span class="o">.</span><span class="na">length</span><span class="o">;</span><span class=""></span>
<span class="">                    </span><span class="n">_local_6</span><span class="o">.</span><span class="na">scaleBy</span><span class="o">((-</span><span class="mi">1</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="o">(</span><span class="n">square_</span><span class="o">.</span><span class="na">props_</span><span class="o">.</span><span class="na">slideAmount_</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="mi">1</span><span class="o">)));</span><span class=""></span>
<span class="">                    </span><span class="n">moveVec_</span><span class="o">.</span><span class="na">scaleBy</span><span class="o">(</span><span class="n">square_</span><span class="o">.</span><span class="na">props_</span><span class="o">.</span><span class="na">slideAmount_</span><span class="o">);</span><span class=""></span>
<span class="">                    </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">moveVec_</span><span class="o">.</span><span class="na">length</span><span class=""> </span><span class="o">&lt;</span><span class=""> </span><span class="n">_local_7</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                        </span><span class="n">moveVec_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">moveVec_</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">_local_6</span><span class="o">);</span><span class=""></span>
<span class="">                    </span><span class="o">}</span><span class=""></span>
<span class="">                </span><span class="o">}</span><span class=""></span>
<span class="">                </span><span class="k">else</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                    </span><span class="n">moveVec_</span><span class="o">.</span><span class="na">x</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="n">_local_4</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="n">Math</span><span class="o">.</span><span class="na">cos</span><span class="o">((</span><span class="n">_local_3</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="n">_local_5</span><span class="o">)));</span><span class=""></span>
<span class="">                    </span><span class="n">moveVec_</span><span class="o">.</span><span class="na">y</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="n">_local_4</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="n">Math</span><span class="o">.</span><span class="na">sin</span><span class="o">((</span><span class="n">_local_3</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="n">_local_5</span><span class="o">)));</span><span class=""></span>
<span class="">                </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="k">else</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="k">if</span><span class=""> </span><span class="o">((((</span><span class="n">moveVec_</span><span class="o">.</span><span class="na">length</span><span class=""> </span><span class="o">&gt;</span><span class=""> </span><span class="mf">0.00012</span><span class="o">))</span><span class=""> </span><span class="o">&amp;&amp;</span><span class=""> </span><span class="o">((</span><span class="n">square_</span><span class="o">.</span><span class="na">props_</span><span class="o">.</span><span class="na">slideAmount_</span><span class=""> </span><span class="o">&gt;</span><span class=""> </span><span class="mi">0</span><span class="o">))))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                    </span><span class="n">moveVec_</span><span class="o">.</span><span class="na">scaleBy</span><span class="o">(</span><span class="n">square_</span><span class="o">.</span><span class="na">props_</span><span class="o">.</span><span class="na">slideAmount_</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="o">}</span><span class=""></span>
<span class="">                </span><span class="k">else</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                    </span><span class="n">moveVec_</span><span class="o">.</span><span class="na">x</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">0</span><span class="o">;</span><span class=""></span>
<span class="">                    </span><span class="n">moveVec_</span><span class="o">.</span><span class="na">y</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">0</span><span class="o">;</span><span class=""></span>
<span class="">                </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(((!((</span><span class="n">square_</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="kc">null</span><span class="o">)))</span><span class=""> </span><span class="o">&amp;&amp;</span><span class=""> </span><span class="o">(</span><span class="n">square_</span><span class="o">.</span><span class="na">props_</span><span class="o">.</span><span class="na">push_</span><span class="o">)))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="n">moveVec_</span><span class="o">.</span><span class="na">x</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="n">moveVec_</span><span class="o">.</span><span class="na">x</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="o">(</span><span class="n">square_</span><span class="o">.</span><span class="na">props_</span><span class="o">.</span><span class="na">animate_</span><span class="o">.</span><span class="na">dx_</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="mi">1000</span><span class="o">));</span><span class=""></span>
<span class="">                </span><span class="n">moveVec_</span><span class="o">.</span><span class="na">y</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="n">moveVec_</span><span class="o">.</span><span class="na">y</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="o">(</span><span class="n">square_</span><span class="o">.</span><span class="na">props_</span><span class="o">.</span><span class="na">animate_</span><span class="o">.</span><span class="na">dy_</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="mi">1000</span><span class="o">));</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="k">this</span><span class="o">.</span><span class="na">walkTo</span><span class="o">((</span><span class="n">x_</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="o">(</span><span class="n">_arg_2</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="n">moveVec_</span><span class="o">.</span><span class="na">x</span><span class="o">)),</span><span class=""> </span><span class="o">(</span><span class="n">y_</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="o">(</span><span class="n">_arg_2</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="n">moveVec_</span><span class="o">.</span><span class="na">y</span><span class="o">)));</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">else</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(!</span><span class="kd">super</span><span class="o">.</span><span class="na">update</span><span class="o">(</span><span class="n">_arg_1</span><span class="o">,</span><span class=""> </span><span class="n">_arg_2</span><span class="o">))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="kc">false</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">((((((((((</span><span class="n">map_</span><span class="o">.</span><span class="na">player_</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="k">this</span><span class="o">))</span><span class=""> </span><span class="o">&amp;&amp;</span><span class=""> </span><span class="o">((</span><span class="n">square_</span><span class="o">.</span><span class="na">props_</span><span class="o">.</span><span class="na">maxDamage_</span><span class=""> </span><span class="o">&gt;</span><span class=""> </span><span class="mi">0</span><span class="o">))))</span><span class=""> </span><span class="o">&amp;&amp;</span><span class=""> </span><span class="o">(((</span><span class="n">square_</span><span class="o">.</span><span class="na">lastDamage_</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="mi">500</span><span class="o">)</span><span class=""> </span><span class="o">&lt;</span><span class=""> </span><span class="n">_arg_1</span><span class="o">))))</span><span class=""> </span><span class="o">&amp;&amp;</span><span class=""> </span><span class="o">(!(</span><span class="n">isInvincible</span><span class="o">()))))</span><span class=""> </span><span class="o">&amp;&amp;</span><span class=""> </span><span class="o">((((</span><span class="n">square_</span><span class="o">.</span><span class="na">obj_</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="kc">null</span><span class="o">))</span><span class=""> </span><span class="o">||</span><span class=""> </span><span class="o">(!(</span><span class="n">square_</span><span class="o">.</span><span class="na">obj_</span><span class="o">.</span><span class="na">props_</span><span class="o">.</span><span class="na">protectFromGroundDamage_</span><span class="o">))))))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="n">_local_8</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">map_</span><span class="o">.</span><span class="na">gs_</span><span class="o">.</span><span class="na">gsc_</span><span class="o">.</span><span class="na">getNextDamage</span><span class="o">(</span><span class="n">square_</span><span class="o">.</span><span class="na">props_</span><span class="o">.</span><span class="na">minDamage_</span><span class="o">,</span><span class=""> </span><span class="n">square_</span><span class="o">.</span><span class="na">props_</span><span class="o">.</span><span class="na">maxDamage_</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="n">_local_9</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="kt">Vector.&lt;uint&gt;</span><span class=""></span><span class="o">();</span><span class=""></span>
<span class="">            </span><span class="n">_local_9</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="n">ConditionEffect</span><span class="o">.</span><span class="na">GROUND_DAMAGE</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="n">damage</span><span class="o">(-</span><span class="mi">1</span><span class="o">,</span><span class=""> </span><span class="n">_local_8</span><span class="o">,</span><span class=""> </span><span class="n">_local_9</span><span class="o">,</span><span class=""> </span><span class="o">(</span><span class="n">hp_</span><span class=""> </span><span class="o">&lt;=</span><span class=""> </span><span class="n">_local_8</span><span class="o">),</span><span class=""> </span><span class="kc">null</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="n">map_</span><span class="o">.</span><span class="na">gs_</span><span class="o">.</span><span class="na">gsc_</span><span class="o">.</span><span class="na">groundDamage</span><span class="o">(</span><span class="n">_arg_1</span><span class="o">,</span><span class=""> </span><span class="n">x_</span><span class="o">,</span><span class=""> </span><span class="n">y_</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="n">square_</span><span class="o">.</span><span class="na">lastDamage_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_arg_1</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="kc">true</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function </span><span class="nf">onMove</span><span class=""></span><span class="o">()</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">void</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">map_</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="kc">null</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">return</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_1</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Square</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">map_</span><span class="o">.</span><span class="na">getSquare</span><span class="o">(</span><span class="n">x_</span><span class="o">,</span><span class=""> </span><span class="n">y_</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">_local_1</span><span class="o">.</span><span class="na">props_</span><span class="o">.</span><span class="na">sinking_</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="n">sinkLevel_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">Math</span><span class="o">.</span><span class="na">min</span><span class="o">((</span><span class="n">sinkLevel_</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="mi">1</span><span class="o">),</span><span class=""> </span><span class="n">Parameters</span><span class="o">.</span><span class="na">MAX_SINK_LEVEL</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="k">this</span><span class="o">.</span><span class="na">moveMultiplier_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="mf">0.1</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="o">((</span><span class="mi">1</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="o">(</span><span class="n">sinkLevel_</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="n">Parameters</span><span class="o">.</span><span class="na">MAX_SINK_LEVEL</span><span class="o">))</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="o">(</span><span class="n">_local_1</span><span class="o">.</span><span class="na">props_</span><span class="o">.</span><span class="na">speed_</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="mf">0.1</span><span class="o">)));</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">else</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="n">sinkLevel_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">0</span><span class="o">;</span><span class=""></span>
<span class="">            </span><span class="k">this</span><span class="o">.</span><span class="na">moveMultiplier_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_local_1</span><span class="o">.</span><span class="na">props_</span><span class="o">.</span><span class="na">speed_</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">override</span><span class=""> </span><span class="kd">protected</span><span class=""> </span><span class="kd">function </span><span class="nf">makeNameBitmapData</span><span class=""></span><span class="o">()</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">BitmapData</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_1</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">StringBuilder</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="kt">StaticStringBuilder</span><span class=""></span><span class="o">(</span><span class="n">name_</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_2</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">BitmapTextFactory</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">StaticInjectorContext</span><span class="o">.</span><span class="na">getInjector</span><span class="o">().</span><span class="na">getInstance</span><span class="o">(</span><span class="n">BitmapTextFactory</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_3</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">BitmapData</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_local_2</span><span class="o">.</span><span class="na">make</span><span class="o">(</span><span class="n">_local_1</span><span class="o">,</span><span class=""> </span><span class="mi">16</span><span class="o">,</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">getNameColor</span><span class="o">(),</span><span class=""> </span><span class="kc">true</span><span class="o">,</span><span class=""> </span><span class="n">NAME_OFFSET_MATRIX</span><span class="o">,</span><span class=""> </span><span class="kc">true</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="n">_local_3</span><span class="o">.</span><span class="na">draw</span><span class="o">(</span><span class="n">FameUtil</span><span class="o">.</span><span class="na">numStarsToIcon</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">numStars_</span><span class="o">),</span><span class=""> </span><span class="n">RANK_OFFSET_MATRIX</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">_local_3</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">function </span><span class="nf">getNameColor</span><span class=""></span><span class="o">()</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">uint</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">isFellowGuild_</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">Parameters</span><span class="o">.</span><span class="na">FELLOW_GUILD_COLOR</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">nameChosen_</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">Parameters</span><span class="o">.</span><span class="na">NAME_CHOSEN_COLOR</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="mh">0xFFFFFF</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">protected</span><span class=""> </span><span class="kd">function </span><span class="nf">drawBreathBar</span><span class=""></span><span class="o">(</span><span class=""></span><span class="n">_arg_1</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Vector.&lt;IGraphicsData&gt;</span><span class=""></span><span class="o">,</span><span class=""> </span><span class="n">_arg_2</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class=""></span><span class="o">)</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">void</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_7</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_8</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">breathPath_</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="kc">null</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">this</span><span class="o">.</span><span class="na">breathBackFill_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="kt">GraphicsSolidFill</span><span class=""></span><span class="o">();</span><span class=""></span>
<span class="">            </span><span class="k">this</span><span class="o">.</span><span class="na">breathBackPath_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="kt">GraphicsPath</span><span class=""></span><span class="o">(</span><span class="n">GraphicsUtil</span><span class="o">.</span><span class="na">QUAD_COMMANDS</span><span class="o">,</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="kt">Vector.&lt;Number&gt;</span><span class=""></span><span class="o">());</span><span class=""></span>
<span class="">            </span><span class="k">this</span><span class="o">.</span><span class="na">breathFill_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="kt">GraphicsSolidFill</span><span class=""></span><span class="o">(</span><span class="mi">2542335</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="k">this</span><span class="o">.</span><span class="na">breathPath_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="kt">GraphicsPath</span><span class=""></span><span class="o">(</span><span class="n">GraphicsUtil</span><span class="o">.</span><span class="na">QUAD_COMMANDS</span><span class="o">,</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="kt">Vector.&lt;Number&gt;</span><span class=""></span><span class="o">());</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">breath_</span><span class=""> </span><span class="o">&lt;=</span><span class=""> </span><span class="n">Parameters</span><span class="o">.</span><span class="na">BREATH_THRESH</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="n">_local_7</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">((</span><span class="n">Parameters</span><span class="o">.</span><span class="na">BREATH_THRESH</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">breath_</span><span class="o">)</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="n">Parameters</span><span class="o">.</span><span class="na">BREATH_THRESH</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="k">this</span><span class="o">.</span><span class="na">breathBackFill_</span><span class="o">.</span><span class="na">color</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">MoreColorUtil</span><span class="o">.</span><span class="na">lerpColor</span><span class="o">(</span><span class="mh">0x545454</span><span class="o">,</span><span class=""> </span><span class="mh">0xFF0000</span><span class="o">,</span><span class=""> </span><span class="o">(</span><span class="n">Math</span><span class="o">.</span><span class="na">abs</span><span class="o">(</span><span class="n">Math</span><span class="o">.</span><span class="na">sin</span><span class="o">((</span><span class="n">_arg_2</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="mi">300</span><span class="o">)))</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="n">_local_7</span><span class="o">));</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">else</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">this</span><span class="o">.</span><span class="na">breathBackFill_</span><span class="o">.</span><span class="na">color</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mh">0x545454</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_3</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">20</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_4</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">8</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_5</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">6</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_6</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Vector.&lt;Number&gt;</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">breathBackPath_</span><span class="o">.</span><span class="na">data</span><span class=""> </span><span class="k">as</span><span class=""> </span><span class="n">Vector</span><span class="o">.&lt;</span><span class="n">Number</span><span class="o">&gt;);</span><span class=""></span>
<span class="">        </span><span class="n">_local_6</span><span class="o">.</span><span class="na">length</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">0</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="n">_local_6</span><span class="o">.</span><span class="na">push</span><span class="o">((</span><span class="n">posS_</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="n">_local_3</span><span class="o">),</span><span class=""> </span><span class="o">(</span><span class="n">posS_</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="n">_local_4</span><span class="o">),</span><span class=""> </span><span class="o">(</span><span class="n">posS_</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="n">_local_3</span><span class="o">),</span><span class=""> </span><span class="o">(</span><span class="n">posS_</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="n">_local_4</span><span class="o">),</span><span class=""> </span><span class="o">(</span><span class="n">posS_</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="n">_local_3</span><span class="o">),</span><span class=""> </span><span class="o">((</span><span class="n">posS_</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="n">_local_4</span><span class="o">)</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="n">_local_5</span><span class="o">),</span><span class=""> </span><span class="o">(</span><span class="n">posS_</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="n">_local_3</span><span class="o">),</span><span class=""> </span><span class="o">((</span><span class="n">posS_</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="n">_local_4</span><span class="o">)</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="n">_local_5</span><span class="o">));</span><span class=""></span>
<span class="">        </span><span class="n">_arg_1</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">breathBackFill_</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="n">_arg_1</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">breathBackPath_</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="n">_arg_1</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="n">GraphicsUtil</span><span class="o">.</span><span class="na">END_FILL</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">breath_</span><span class=""> </span><span class="o">&gt;</span><span class=""> </span><span class="mi">0</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="n">_local_8</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(((</span><span class="k">this</span><span class="o">.</span><span class="na">breath_</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="mi">100</span><span class="o">)</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="mi">2</span><span class="o">)</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="n">_local_3</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="k">this</span><span class="o">.</span><span class="na">breathPath_</span><span class="o">.</span><span class="na">data</span><span class="o">.</span><span class="na">length</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">0</span><span class="o">;</span><span class=""></span>
<span class="">            </span><span class="n">_local_6</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">breathPath_</span><span class="o">.</span><span class="na">data</span><span class=""> </span><span class="k">as</span><span class=""> </span><span class="n">Vector</span><span class="o">.&lt;</span><span class="n">Number</span><span class="o">&gt;);</span><span class=""></span>
<span class="">            </span><span class="n">_local_6</span><span class="o">.</span><span class="na">length</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">0</span><span class="o">;</span><span class=""></span>
<span class="">            </span><span class="n">_local_6</span><span class="o">.</span><span class="na">push</span><span class="o">((</span><span class="n">posS_</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="n">_local_3</span><span class="o">),</span><span class=""> </span><span class="o">(</span><span class="n">posS_</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="n">_local_4</span><span class="o">),</span><span class=""> </span><span class="o">((</span><span class="n">posS_</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="n">_local_3</span><span class="o">)</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="n">_local_8</span><span class="o">),</span><span class=""> </span><span class="o">(</span><span class="n">posS_</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="n">_local_4</span><span class="o">),</span><span class=""> </span><span class="o">((</span><span class="n">posS_</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="n">_local_3</span><span class="o">)</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="n">_local_8</span><span class="o">),</span><span class=""> </span><span class="o">((</span><span class="n">posS_</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="n">_local_4</span><span class="o">)</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="n">_local_5</span><span class="o">),</span><span class=""> </span><span class="o">(</span><span class="n">posS_</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="n">_local_3</span><span class="o">),</span><span class=""> </span><span class="o">((</span><span class="n">posS_</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="n">_local_4</span><span class="o">)</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="n">_local_5</span><span class="o">));</span><span class=""></span>
<span class="">            </span><span class="n">_arg_1</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">breathFill_</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="n">_arg_1</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">breathPath_</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="n">_arg_1</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="n">GraphicsUtil</span><span class="o">.</span><span class="na">END_FILL</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="n">GraphicsFillExtra</span><span class="o">.</span><span class="na">setSoftwareDrawSolid</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">breathFill_</span><span class="o">,</span><span class=""> </span><span class="kc">true</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="n">GraphicsFillExtra</span><span class="o">.</span><span class="na">setSoftwareDrawSolid</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">breathBackFill_</span><span class="o">,</span><span class=""> </span><span class="kc">true</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">override</span><span class=""> </span><span class="kd">public</span><span class=""> </span><span class="kd">function </span><span class="nf">draw</span><span class=""></span><span class="o">(</span><span class=""></span><span class="n">_arg_1</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Vector.&lt;IGraphicsData&gt;</span><span class=""></span><span class="o">,</span><span class=""> </span><span class="n">_arg_2</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Camera</span><span class=""></span><span class="o">,</span><span class=""> </span><span class="n">_arg_3</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class=""></span><span class="o">)</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">void</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="kd">super</span><span class="o">.</span><span class="na">draw</span><span class="o">(</span><span class="n">_arg_1</span><span class="o">,</span><span class=""> </span><span class="n">_arg_2</span><span class="o">,</span><span class=""> </span><span class="n">_arg_3</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class=""> </span><span class="o">!=</span><span class=""> </span><span class="n">map_</span><span class="o">.</span><span class="na">player_</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(!</span><span class="n">Parameters</span><span class="o">.</span><span class="na">screenShotMode_</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="n">drawName</span><span class="o">(</span><span class="n">_arg_1</span><span class="o">,</span><span class=""> </span><span class="n">_arg_2</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">else</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">breath_</span><span class=""> </span><span class="o">&gt;=</span><span class=""> </span><span class="mi">0</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="k">this</span><span class="o">.</span><span class="na">drawBreathBar</span><span class="o">(</span><span class="n">_arg_1</span><span class="o">,</span><span class=""> </span><span class="n">_arg_3</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">function </span><span class="nf">getMoveSpeed</span><span class=""></span><span class="o">()</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">isSlowed</span><span class="o">())</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">return</span><span class=""> </span><span class="o">((</span><span class="n">MIN_MOVE_SPEED</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">moveMultiplier_</span><span class="o">));</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_1</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="n">MIN_MOVE_SPEED</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="o">((</span><span class="k">this</span><span class="o">.</span><span class="na">speed_</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="mi">75</span><span class="o">)</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="o">(</span><span class="n">MAX_MOVE_SPEED</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="n">MIN_MOVE_SPEED</span><span class="o">)));</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(((</span><span class="n">isSpeedy</span><span class="o">())</span><span class=""> </span><span class="o">||</span><span class=""> </span><span class="o">(</span><span class="n">isNinjaSpeedy</span><span class="o">())))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="n">_local_1</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="n">_local_1</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="mf">1.5</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">((</span><span class="n">_local_1</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">moveMultiplier_</span><span class="o">));</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function </span><span class="nf">attackFrequency</span><span class=""></span><span class="o">()</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">isDazed</span><span class="o">())</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">MIN_ATTACK_FREQ</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_1</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="n">MIN_ATTACK_FREQ</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="o">((</span><span class="k">this</span><span class="o">.</span><span class="na">dexterity_</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="mi">75</span><span class="o">)</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="o">(</span><span class="n">MAX_ATTACK_FREQ</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="n">MIN_ATTACK_FREQ</span><span class="o">)));</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">isBerserk</span><span class="o">())</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="n">_local_1</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="n">_local_1</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="mf">1.5</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">_local_1</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">function </span><span class="nf">attackMultiplier</span><span class=""></span><span class="o">()</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">isWeak</span><span class="o">())</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">MIN_ATTACK_MULT</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_1</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="n">MIN_ATTACK_MULT</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="o">((</span><span class="k">this</span><span class="o">.</span><span class="na">attack_</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="mi">75</span><span class="o">)</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="o">(</span><span class="n">MAX_ATTACK_MULT</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="n">MIN_ATTACK_MULT</span><span class="o">)));</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">isDamaging</span><span class="o">())</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="n">_local_1</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="n">_local_1</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="mf">1.5</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">_local_1</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">function </span><span class="nf">makeSkinTexture</span><span class=""></span><span class="o">()</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">void</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_1</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">MaskedImage</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">skin</span><span class="o">.</span><span class="na">imageFromAngle</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class=""> </span><span class="n">AnimatedChar</span><span class="o">.</span><span class="na">STAND</span><span class="o">,</span><span class=""> </span><span class="mi">0</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="n">animatedChar_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">skin</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="n">texture_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_local_1</span><span class="o">.</span><span class="na">image_</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="n">mask_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_local_1</span><span class="o">.</span><span class="na">mask_</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">isDefaultAnimatedChar</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="kc">true</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">function </span><span class="nf">setToRandomAnimatedCharacter</span><span class=""></span><span class="o">()</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">void</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_1</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Vector.&lt;XML&gt;</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">ObjectLibrary</span><span class="o">.</span><span class="na">hexTransforms_</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_2</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">uint</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">Math</span><span class="o">.</span><span class="na">floor</span><span class="o">((</span><span class="n">Math</span><span class="o">.</span><span class="na">random</span><span class="o">()</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="n">_local_1</span><span class="o">.</span><span class="na">length</span><span class="o">));</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_3</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">int</span><span class="o">(</span><span class="n">_local_1</span><span class="o">[</span><span class="n">_local_2</span><span class="o">].</span><span class="p">@</span><span class="n">type</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_4</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">TextureData</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">ObjectLibrary</span><span class="o">.</span><span class="na">typeToTextureData_</span><span class="o">[</span><span class="n">_local_3</span><span class="o">];</span><span class=""></span>
<span class="">        </span><span class="n">texture_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_local_4</span><span class="o">.</span><span class="na">texture_</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="n">mask_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_local_4</span><span class="o">.</span><span class="na">mask_</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="n">animatedChar_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_local_4</span><span class="o">.</span><span class="na">animatedChar_</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">isDefaultAnimatedChar</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="kc">false</span><span class="o">;</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">override</span><span class=""> </span><span class="kd">protected</span><span class=""> </span><span class="kd">function </span><span class="nf">getTexture</span><span class=""></span><span class="o">(</span><span class=""></span><span class="n">_arg_1</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Camera</span><span class=""></span><span class="o">,</span><span class=""> </span><span class="n">_arg_2</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class=""></span><span class="o">)</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">BitmapData</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_5</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">MaskedImage</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_10</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_11</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Dictionary</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_12</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_13</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_14</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">ColorTransform</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_3</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">0</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_4</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">AnimatedChar</span><span class="o">.</span><span class="na">STAND</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(((</span><span class="k">this</span><span class="o">.</span><span class="na">isShooting</span><span class="o">)</span><span class=""> </span><span class="o">||</span><span class=""> </span><span class="o">((</span><span class="n">_arg_2</span><span class=""> </span><span class="o">&lt;</span><span class=""> </span><span class="o">(</span><span class="n">attackStart_</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">attackPeriod_</span><span class="o">)))))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="n">facing_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">attackAngle_</span><span class="o">;</span><span class=""></span>
<span class="">            </span><span class="n">_local_3</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(((</span><span class="n">_arg_2</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="n">attackStart_</span><span class="o">)</span><span class=""> </span><span class="o">%</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">attackPeriod_</span><span class="o">)</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">attackPeriod_</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="n">_local_4</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">AnimatedChar</span><span class="o">.</span><span class="na">ATTACK</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">else</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(((!((</span><span class="n">moveVec_</span><span class="o">.</span><span class="na">x</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="mi">0</span><span class="o">)))</span><span class=""> </span><span class="o">||</span><span class=""> </span><span class="o">(!((</span><span class="n">moveVec_</span><span class="o">.</span><span class="na">y</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="mi">0</span><span class="o">)))))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="n">_local_10</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="mf">3.5</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">getMoveSpeed</span><span class="o">());</span><span class=""></span>
<span class="">                </span><span class="k">if</span><span class=""> </span><span class="o">(((!((</span><span class="n">moveVec_</span><span class="o">.</span><span class="na">y</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="mi">0</span><span class="o">)))</span><span class=""> </span><span class="o">||</span><span class=""> </span><span class="o">(!((</span><span class="n">moveVec_</span><span class="o">.</span><span class="na">x</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="mi">0</span><span class="o">)))))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                    </span><span class="n">facing_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">Math</span><span class="o">.</span><span class="na">atan2</span><span class="o">(</span><span class="n">moveVec_</span><span class="o">.</span><span class="na">y</span><span class="o">,</span><span class=""> </span><span class="n">moveVec_</span><span class="o">.</span><span class="na">x</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="o">}</span><span class=""></span>
<span class="">                </span><span class="n">_local_3</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">((</span><span class="n">_arg_2</span><span class=""> </span><span class="o">%</span><span class=""> </span><span class="n">_local_10</span><span class="o">)</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="n">_local_10</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="n">_local_4</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">AnimatedChar</span><span class="o">.</span><span class="na">WALK</span><span class="o">;</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">isHexed</span><span class="o">())</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="o">((</span><span class="k">this</span><span class="o">.</span><span class="na">isDefaultAnimatedChar</span><span class="o">)</span><span class=""> </span><span class="o">&amp;&amp;</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">setToRandomAnimatedCharacter</span><span class="o">()));</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">else</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(!</span><span class="k">this</span><span class="o">.</span><span class="na">isDefaultAnimatedChar</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="k">this</span><span class="o">.</span><span class="na">makeSkinTexture</span><span class="o">();</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">_arg_1</span><span class="o">.</span><span class="na">isHallucinating_</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="n">_local_5</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="kt">MaskedImage</span><span class=""></span><span class="o">(</span><span class="n">getHallucinatingTexture</span><span class="o">(),</span><span class=""> </span><span class="kc">null</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">else</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="n">_local_5</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">animatedChar_</span><span class="o">.</span><span class="na">imageFromFacing</span><span class="o">(</span><span class="n">facing_</span><span class="o">,</span><span class=""> </span><span class="n">_arg_1</span><span class="o">,</span><span class=""> </span><span class="n">_local_4</span><span class="o">,</span><span class=""> </span><span class="n">_local_3</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_6</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">tex1Id_</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_7</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">tex2Id_</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_8</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">BitmapData</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">nearestMerchant_</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="n">_local_11</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">texturingCache_</span><span class="o">[</span><span class="k">this</span><span class="o">.</span><span class="na">nearestMerchant_</span><span class="o">];</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">_local_11</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="kc">null</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="n">texturingCache_</span><span class="o">[</span><span class="k">this</span><span class="o">.</span><span class="na">nearestMerchant_</span><span class="o">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="kt">Dictionary</span><span class=""></span><span class="o">();</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="k">else</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="n">_local_8</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_local_11</span><span class="o">[</span><span class="n">_local_5</span><span class="o">];</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="n">_local_6</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">nearestMerchant_</span><span class="o">.</span><span class="na">getTex1Id</span><span class="o">(</span><span class="n">tex1Id_</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="n">_local_7</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">nearestMerchant_</span><span class="o">.</span><span class="na">getTex2Id</span><span class="o">(</span><span class="n">tex2Id_</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">else</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="n">_local_8</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">texturingCache_</span><span class="o">[</span><span class="n">_local_5</span><span class="o">];</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">_local_8</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="kc">null</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="n">_local_8</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">TextureRedrawer</span><span class="o">.</span><span class="na">resize</span><span class="o">(</span><span class="n">_local_5</span><span class="o">.</span><span class="na">image_</span><span class="o">,</span><span class=""> </span><span class="n">_local_5</span><span class="o">.</span><span class="na">mask_</span><span class="o">,</span><span class=""> </span><span class="n">size_</span><span class="o">,</span><span class=""> </span><span class="kc">false</span><span class="o">,</span><span class=""> </span><span class="n">_local_6</span><span class="o">,</span><span class=""> </span><span class="n">_local_7</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">nearestMerchant_</span><span class=""> </span><span class="o">!=</span><span class=""> </span><span class="kc">null</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="n">texturingCache_</span><span class="o">[</span><span class="k">this</span><span class="o">.</span><span class="na">nearestMerchant_</span><span class="o">][</span><span class="n">_local_5</span><span class="o">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_local_8</span><span class="o">;</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="k">else</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="n">texturingCache_</span><span class="o">[</span><span class="n">_local_5</span><span class="o">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_local_8</span><span class="o">;</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">hp_</span><span class=""> </span><span class="o">&lt;</span><span class=""> </span><span class="o">(</span><span class="n">maxHP_</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="mf">0.2</span><span class="o">))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="n">_local_12</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="n">int</span><span class="o">((</span><span class="n">Math</span><span class="o">.</span><span class="na">abs</span><span class="o">(</span><span class="n">Math</span><span class="o">.</span><span class="na">sin</span><span class="o">((</span><span class="n">_arg_2</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="mi">200</span><span class="o">)))</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="mi">10</span><span class="o">))</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="mi">10</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="n">_local_13</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">128</span><span class="o">;</span><span class=""></span>
<span class="">            </span><span class="n">_local_14</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">new</span><span class=""> </span><span class="kt">ColorTransform</span><span class=""></span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class=""> </span><span class="mi">1</span><span class="o">,</span><span class=""> </span><span class="mi">1</span><span class="o">,</span><span class=""> </span><span class="mi">1</span><span class="o">,</span><span class=""> </span><span class="o">(</span><span class="n">_local_12</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="n">_local_13</span><span class="o">),</span><span class=""> </span><span class="o">(-(</span><span class="n">_local_12</span><span class="o">)</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="n">_local_13</span><span class="o">),</span><span class=""> </span><span class="o">(-(</span><span class="n">_local_12</span><span class="o">)</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="n">_local_13</span><span class="o">));</span><span class=""></span>
<span class="">            </span><span class="n">_local_8</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">CachingColorTransformer</span><span class="o">.</span><span class="na">transformBitmapData</span><span class="o">(</span><span class="n">_local_8</span><span class="o">,</span><span class=""> </span><span class="n">_local_14</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_9</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">BitmapData</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">texturingCache_</span><span class="o">[</span><span class="n">_local_8</span><span class="o">];</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">_local_9</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="kc">null</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="n">_local_9</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">GlowRedrawer</span><span class="o">.</span><span class="na">outlineGlow</span><span class="o">(</span><span class="n">_local_8</span><span class="o">,</span><span class=""> </span><span class="o">(((</span><span class="k">this</span><span class="o">.</span><span class="na">legendaryRank_</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="o">-</span><span class="mi">1</span><span class="o">))</span><span class=""> </span><span class="o">?</span><span class=""> </span><span class="mi">0</span><span class=""> </span><span class="o">:</span><span class=""> </span><span class="mh">0xFF0000</span><span class="o">));</span><span class=""></span>
<span class="">            </span><span class="n">texturingCache_</span><span class="o">[</span><span class="n">_local_8</span><span class="o">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_local_9</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(((((</span><span class="n">isPaused</span><span class="o">())</span><span class=""> </span><span class="o">||</span><span class=""> </span><span class="o">(</span><span class="n">isStasis</span><span class="o">())))</span><span class=""> </span><span class="o">||</span><span class=""> </span><span class="o">(</span><span class="n">isPetrified</span><span class="o">())))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="n">_local_9</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">CachingColorTransformer</span><span class="o">.</span><span class="na">filterBitmapData</span><span class="o">(</span><span class="n">_local_9</span><span class="o">,</span><span class=""> </span><span class="n">PAUSED_FILTER</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">else</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">isInvisible</span><span class="o">())</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="n">_local_9</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">CachingColorTransformer</span><span class="o">.</span><span class="na">alphaBitmapData</span><span class="o">(</span><span class="n">_local_9</span><span class="o">,</span><span class=""> </span><span class="mf">0.4</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">_local_9</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">override</span><span class=""> </span><span class="kd">public</span><span class=""> </span><span class="kd">function </span><span class="nf">getPortrait</span><span class=""></span><span class="o">()</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">BitmapData</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_1</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">MaskedImage</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_2</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">portrait_</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="kc">null</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="n">_local_1</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">animatedChar_</span><span class="o">.</span><span class="na">imageFromDir</span><span class="o">(</span><span class="n">AnimatedChar</span><span class="o">.</span><span class="na">RIGHT</span><span class="o">,</span><span class=""> </span><span class="n">AnimatedChar</span><span class="o">.</span><span class="na">STAND</span><span class="o">,</span><span class=""> </span><span class="mi">0</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="n">_local_2</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">((</span><span class="mi">4</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="n">_local_1</span><span class="o">.</span><span class="na">image_</span><span class="o">.</span><span class="na">width</span><span class="o">)</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="mi">100</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="n">portrait_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">TextureRedrawer</span><span class="o">.</span><span class="na">resize</span><span class="o">(</span><span class="n">_local_1</span><span class="o">.</span><span class="na">image_</span><span class="o">,</span><span class=""> </span><span class="n">_local_1</span><span class="o">.</span><span class="na">mask_</span><span class="o">,</span><span class=""> </span><span class="n">_local_2</span><span class="o">,</span><span class=""> </span><span class="kc">true</span><span class="o">,</span><span class=""> </span><span class="n">tex1Id_</span><span class="o">,</span><span class=""> </span><span class="n">tex2Id_</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="n">portrait_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">GlowRedrawer</span><span class="o">.</span><span class="na">outlineGlow</span><span class="o">(</span><span class="n">portrait_</span><span class="o">,</span><span class=""> </span><span class="mi">0</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">portrait_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function </span><span class="nf">useAltWeapon</span><span class=""></span><span class="o">(</span><span class=""></span><span class="n">_arg_1</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""></span><span class="o">,</span><span class=""> </span><span class="n">_arg_2</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""></span><span class="o">,</span><span class=""> </span><span class="n">_arg_3</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class=""></span><span class="o">)</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Boolean</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_7</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">XML</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_8</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_9</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_10</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_11</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">((((</span><span class="n">map_</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="kc">null</span><span class="o">))</span><span class=""> </span><span class="o">||</span><span class=""> </span><span class="o">(</span><span class="n">isPaused</span><span class="o">())))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="kc">false</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_4</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">equipment_</span><span class="o">[</span><span class="mi">1</span><span class="o">];</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">_local_4</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="o">-</span><span class="mi">1</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="kc">false</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_5</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">XML</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">ObjectLibrary</span><span class="o">.</span><span class="na">xmlLibrary_</span><span class="o">[</span><span class="n">_local_4</span><span class="o">];</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">((((</span><span class="n">_local_5</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="kc">null</span><span class="o">))</span><span class=""> </span><span class="o">||</span><span class=""> </span><span class="o">(!(</span><span class="n">_local_5</span><span class="o">.</span><span class="na">hasOwnProperty</span><span class="o">(</span><span class="s2">&quot;Usable&quot;</span><span class="o">)))))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="kc">false</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_6</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Point</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">map_</span><span class="o">.</span><span class="na">pSTopW</span><span class="o">(</span><span class="n">_arg_1</span><span class="o">,</span><span class=""> </span><span class="n">_arg_2</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">_local_6</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="kc">null</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="n">SoundEffectLibrary</span><span class="o">.</span><span class="na">play</span><span class="o">(</span><span class="s2">&quot;error&quot;</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="kc">false</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">for</span><span class=""> </span><span class="k">each</span><span class=""> </span><span class="o">(</span><span class="n">_local_7</span><span class=""> </span><span class="k">in</span><span class=""> </span><span class="n">_local_5</span><span class="o">.</span><span class="na">Activate</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">_local_7</span><span class="o">.</span><span class="na">toString</span><span class="o">()</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="n">ActivationType</span><span class="o">.</span><span class="na">TELEPORT</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="k">if</span><span class=""> </span><span class="o">(!</span><span class="k">this</span><span class="o">.</span><span class="na">isValidPosition</span><span class="o">(</span><span class="n">_local_6</span><span class="o">.</span><span class="na">x</span><span class="o">,</span><span class=""> </span><span class="n">_local_6</span><span class="o">.</span><span class="na">y</span><span class="o">))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                    </span><span class="n">SoundEffectLibrary</span><span class="o">.</span><span class="na">play</span><span class="o">(</span><span class="s2">&quot;error&quot;</span><span class="o">);</span><span class=""></span>
<span class="">                    </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="kc">false</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="n">_local_8</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="nf">getTimer</span><span class="o">();</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">_arg_3</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="n">UseType</span><span class="o">.</span><span class="na">START_USE</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">_local_8</span><span class=""> </span><span class="o">&lt;</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">nextAltAttack_</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="n">SoundEffectLibrary</span><span class="o">.</span><span class="na">play</span><span class="o">(</span><span class="s2">&quot;error&quot;</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="kc">false</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="n">_local_10</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">int</span><span class="o">(</span><span class="n">_local_5</span><span class="o">.</span><span class="na">MpCost</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">_local_10</span><span class=""> </span><span class="o">&gt;</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">mp_</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="n">SoundEffectLibrary</span><span class="o">.</span><span class="na">play</span><span class="o">(</span><span class="s2">&quot;no_mana&quot;</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="kc">false</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="n">_local_11</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">500</span><span class="o">;</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">_local_5</span><span class="o">.</span><span class="na">hasOwnProperty</span><span class="o">(</span><span class="s2">&quot;Cooldown&quot;</span><span class="o">))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="n">_local_11</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="n">Number</span><span class="o">(</span><span class="n">_local_5</span><span class="o">.</span><span class="na">Cooldown</span><span class="o">)</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="mi">1000</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="k">this</span><span class="o">.</span><span class="na">nextAltAttack_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="n">_local_8</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="n">_local_11</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="n">map_</span><span class="o">.</span><span class="na">gs_</span><span class="o">.</span><span class="na">gsc_</span><span class="o">.</span><span class="na">useItem</span><span class="o">(</span><span class="n">_local_8</span><span class="o">,</span><span class=""> </span><span class="n">objectId_</span><span class="o">,</span><span class=""> </span><span class="mi">1</span><span class="o">,</span><span class=""> </span><span class="n">_local_4</span><span class="o">,</span><span class=""> </span><span class="n">_local_6</span><span class="o">.</span><span class="na">x</span><span class="o">,</span><span class=""> </span><span class="n">_local_6</span><span class="o">.</span><span class="na">y</span><span class="o">,</span><span class=""> </span><span class="n">_arg_3</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">_local_5</span><span class="o">.</span><span class="na">Activate</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="n">ActivationType</span><span class="o">.</span><span class="na">SHOOT</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="n">_local_9</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">Math</span><span class="o">.</span><span class="na">atan2</span><span class="o">(</span><span class="n">_arg_2</span><span class="o">,</span><span class=""> </span><span class="n">_arg_1</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="k">this</span><span class="o">.</span><span class="na">doShoot</span><span class="o">(</span><span class="n">_local_8</span><span class="o">,</span><span class=""> </span><span class="n">_local_4</span><span class="o">,</span><span class=""> </span><span class="n">_local_5</span><span class="o">,</span><span class=""> </span><span class="o">(</span><span class="n">Parameters</span><span class="o">.</span><span class="na">data_</span><span class="o">.</span><span class="na">cameraAngle</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="n">_local_9</span><span class="o">),</span><span class=""> </span><span class="kc">false</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">else</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">_local_5</span><span class="o">.</span><span class="na">hasOwnProperty</span><span class="o">(</span><span class="s2">&quot;MultiPhase&quot;</span><span class="o">))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="n">map_</span><span class="o">.</span><span class="na">gs_</span><span class="o">.</span><span class="na">gsc_</span><span class="o">.</span><span class="na">useItem</span><span class="o">(</span><span class="n">_local_8</span><span class="o">,</span><span class=""> </span><span class="n">objectId_</span><span class="o">,</span><span class=""> </span><span class="mi">1</span><span class="o">,</span><span class=""> </span><span class="n">_local_4</span><span class="o">,</span><span class=""> </span><span class="n">_local_6</span><span class="o">.</span><span class="na">x</span><span class="o">,</span><span class=""> </span><span class="n">_local_6</span><span class="o">.</span><span class="na">y</span><span class="o">,</span><span class=""> </span><span class="n">_arg_3</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="n">_local_10</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">int</span><span class="o">(</span><span class="n">_local_5</span><span class="o">.</span><span class="na">MpEndCost</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">_local_10</span><span class=""> </span><span class="o">&lt;=</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">mp_</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                    </span><span class="n">_local_9</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">Math</span><span class="o">.</span><span class="na">atan2</span><span class="o">(</span><span class="n">_arg_2</span><span class="o">,</span><span class=""> </span><span class="n">_arg_1</span><span class="o">);</span><span class=""></span>
<span class="">                    </span><span class="k">this</span><span class="o">.</span><span class="na">doShoot</span><span class="o">(</span><span class="n">_local_8</span><span class="o">,</span><span class=""> </span><span class="n">_local_4</span><span class="o">,</span><span class=""> </span><span class="n">_local_5</span><span class="o">,</span><span class=""> </span><span class="o">(</span><span class="n">Parameters</span><span class="o">.</span><span class="na">data_</span><span class="o">.</span><span class="na">cameraAngle</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="n">_local_9</span><span class="o">),</span><span class=""> </span><span class="kc">false</span><span class="o">);</span><span class=""></span>
<span class="">                </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="kc">true</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function </span><span class="nf">attemptAttackAngle</span><span class=""></span><span class="o">(</span><span class=""></span><span class="n">_arg_1</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""></span><span class="o">)</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">void</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">shoot</span><span class="o">((</span><span class="n">Parameters</span><span class="o">.</span><span class="na">data_</span><span class="o">.</span><span class="na">cameraAngle</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="n">_arg_1</span><span class="o">));</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">override</span><span class=""> </span><span class="kd">public</span><span class=""> </span><span class="kd">function </span><span class="nf">setAttack</span><span class=""></span><span class="o">(</span><span class=""></span><span class="n">_arg_1</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class=""></span><span class="o">,</span><span class=""> </span><span class="n">_arg_2</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""></span><span class="o">)</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">void</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_3</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">XML</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">ObjectLibrary</span><span class="o">.</span><span class="na">xmlLibrary_</span><span class="o">[</span><span class="n">_arg_1</span><span class="o">];</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">((((</span><span class="n">_local_3</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="kc">null</span><span class="o">))</span><span class=""> </span><span class="o">||</span><span class=""> </span><span class="o">(!(</span><span class="n">_local_3</span><span class="o">.</span><span class="na">hasOwnProperty</span><span class="o">(</span><span class="s2">&quot;RateOfFire&quot;</span><span class="o">)))))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">return</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">rateOfFire</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">Number</span><span class="o">(</span><span class="n">_local_3</span><span class="o">.</span><span class="na">RateOfFire</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">attackPeriod_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">((</span><span class="mi">1</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">attackFrequency</span><span class="o">())</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="o">(</span><span class="mi">1</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="n">rateOfFire</span><span class="o">));</span><span class=""></span>
<span class="">        </span><span class="kd">super</span><span class="o">.</span><span class="na">setAttack</span><span class="o">(</span><span class="n">_arg_1</span><span class="o">,</span><span class=""> </span><span class="n">_arg_2</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function </span><span class="nf">shoot</span><span class=""></span><span class="o">(</span><span class=""></span><span class="n">attackAngle</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""></span><span class="o">)</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">void</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">((((((((</span><span class="n">map_</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="kc">null</span><span class="o">))</span><span class=""> </span><span class="o">||</span><span class=""> </span><span class="o">(</span><span class="n">isStunned</span><span class="o">())))</span><span class=""> </span><span class="o">||</span><span class=""> </span><span class="o">(</span><span class="n">isPaused</span><span class="o">())))</span><span class=""> </span><span class="o">||</span><span class=""> </span><span class="o">(</span><span class="n">isPetrified</span><span class="o">())))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">return</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">shootItem</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">equipment_</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">shootItem</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="o">-</span><span class="mi">1</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">this</span><span class="o">.</span><span class="na">addTextLine</span><span class="o">.</span><span class="na">dispatch</span><span class="o">(</span><span class="n">ChatMessage</span><span class="o">.</span><span class="na">make</span><span class="o">(</span><span class="n">Parameters</span><span class="o">.</span><span class="na">ERROR_CHAT_NAME</span><span class="o">,</span><span class=""> </span><span class="n">TextKey</span><span class="o">.</span><span class="na">PLAYER_NO_WEAPON_EQUIPPED</span><span class="o">));</span><span class=""></span>
<span class="">            </span><span class="k">return</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">shotXML</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">XML</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">ObjectLibrary</span><span class="o">.</span><span class="na">xmlLibrary_</span><span class="o">[</span><span class="n">shootItem</span><span class="o">];</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">attackStart</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="nf">getTimer</span><span class="o">();</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">rateOfFire</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">Number</span><span class="o">(</span><span class="n">shotXML</span><span class="o">.</span><span class="na">RateOfFire</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">attackPeriod_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">((</span><span class="mi">1</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">attackFrequency</span><span class="o">())</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="o">(</span><span class="mi">1</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="n">rateOfFire</span><span class="o">));</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">attackStart</span><span class=""> </span><span class="o">&lt;</span><span class=""> </span><span class="o">(</span><span class="n">attackStart_</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">attackPeriod_</span><span class="o">))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">return</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="n">doneAction</span><span class="o">(</span><span class="n">map_</span><span class="o">.</span><span class="na">gs_</span><span class="o">,</span><span class=""> </span><span class="n">Tutorial</span><span class="o">.</span><span class="na">ATTACK_ACTION</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="n">attackAngle_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">attackAngle</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="n">attackStart_</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">attackStart</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">doShoot</span><span class="o">(</span><span class="n">attackStart_</span><span class="o">,</span><span class=""> </span><span class="n">shootItem</span><span class="o">,</span><span class=""> </span><span class="n">shotXML</span><span class="o">,</span><span class=""> </span><span class="n">attackAngle_</span><span class="o">,</span><span class=""> </span><span class="kc">true</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">private</span><span class=""> </span><span class="kd">function </span><span class="nf">doShoot</span><span class=""></span><span class="o">(</span><span class=""></span><span class="n">time</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class=""></span><span class="o">,</span><span class=""> </span><span class="n">shootItem</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class=""></span><span class="o">,</span><span class=""> </span><span class="n">shotXML</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">XML</span><span class=""></span><span class="o">,</span><span class=""> </span><span class="n">attackAngle</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""></span><span class="o">,</span><span class=""> </span><span class="n">isShooting</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Boolean</span><span class=""></span><span class="o">)</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">void</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">bulletId</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">uint</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">projectile</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Projectile</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">mindmg</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">maxdmg</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_15</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">damage</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">numProjectiles</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">((</span><span class="n">shotXML</span><span class="o">.</span><span class="na">hasOwnProperty</span><span class="o">(</span><span class="s2">&quot;NumProjectiles&quot;</span><span class="o">))</span><span class=""> </span><span class="o">?</span><span class=""> </span><span class="n">int</span><span class="o">(</span><span class="n">shotXML</span><span class="o">.</span><span class="na">NumProjectiles</span><span class="o">)</span><span class=""> </span><span class="o">:</span><span class=""> </span><span class="mi">1</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">arcGap</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(((</span><span class="n">shotXML</span><span class="o">.</span><span class="na">hasOwnProperty</span><span class="o">(</span><span class="s2">&quot;ArcGap&quot;</span><span class="o">))</span><span class=""> </span><span class="o">?</span><span class=""> </span><span class="n">Number</span><span class="o">(</span><span class="n">shotXML</span><span class="o">.</span><span class="na">ArcGap</span><span class="o">)</span><span class=""> </span><span class="o">:</span><span class=""> </span><span class="mf">11.25</span><span class="o">)</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="n">Trig</span><span class="o">.</span><span class="na">toRadians</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_8</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="n">arcGap</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="o">(</span><span class="n">numProjectiles</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="mi">1</span><span class="o">));</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_9</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Number</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="n">attackAngle</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="o">(</span><span class="n">_local_8</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="mi">2</span><span class="o">));</span><span class=""></span>
<span class="">        </span><span class="k">this</span><span class="o">.</span><span class="na">isShooting</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">isShooting</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">i</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">while</span><span class=""> </span><span class="o">(</span><span class="n">i</span><span class=""> </span><span class="o">&lt;</span><span class=""> </span><span class="n">numProjectiles</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="n">bulletId</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">getBulletId</span><span class="o">();</span><span class=""></span>
<span class="">            </span><span class="n">projectile</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="n">FreeList</span><span class="o">.</span><span class="na">newObject</span><span class="o">(</span><span class="n">Projectile</span><span class="o">)</span><span class=""> </span><span class="k">as</span><span class=""> </span><span class="n">Projectile</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(((</span><span class="n">isShooting</span><span class="o">)</span><span class=""> </span><span class="o">&amp;&amp;</span><span class=""> </span><span class="o">(!((</span><span class="k">this</span><span class="o">.</span><span class="na">projectileIdSetOverrideNew</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="s2">&quot;&quot;</span><span class="o">)))))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="n">projectile</span><span class="o">.</span><span class="na">reset</span><span class="o">(</span><span class="n">shootItem</span><span class="o">,</span><span class=""> </span><span class="mi">0</span><span class="o">,</span><span class=""> </span><span class="n">objectId_</span><span class="o">,</span><span class=""> </span><span class="n">bulletId</span><span class="o">,</span><span class=""> </span><span class="n">_local_9</span><span class="o">,</span><span class=""> </span><span class="n">time</span><span class="o">,</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">projectileIdSetOverrideNew</span><span class="o">,</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">projectileIdSetOverrideOld</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="k">else</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="n">projectile</span><span class="o">.</span><span class="na">reset</span><span class="o">(</span><span class="n">shootItem</span><span class="o">,</span><span class=""> </span><span class="mi">0</span><span class="o">,</span><span class=""> </span><span class="n">objectId_</span><span class="o">,</span><span class=""> </span><span class="n">bulletId</span><span class="o">,</span><span class=""> </span><span class="n">_local_9</span><span class="o">,</span><span class=""> </span><span class="n">time</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="n">mindmg</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">int</span><span class="o">(</span><span class="n">projectile</span><span class="o">.</span><span class="na">projProps_</span><span class="o">.</span><span class="na">minDamage_</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="n">maxdmg</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">int</span><span class="o">(</span><span class="n">projectile</span><span class="o">.</span><span class="na">projProps_</span><span class="o">.</span><span class="na">maxDamage_</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="n">_local_15</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">((</span><span class="n">isShooting</span><span class="o">)</span><span class=""> </span><span class="o">?</span><span class=""> </span><span class="k">this</span><span class="o">.</span><span class="na">attackMultiplier</span><span class="o">()</span><span class=""> </span><span class="o">:</span><span class=""> </span><span class="mi">1</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="n">damage</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="n">map_</span><span class="o">.</span><span class="na">gs_</span><span class="o">.</span><span class="na">gsc_</span><span class="o">.</span><span class="na">getNextDamage</span><span class="o">(</span><span class="n">mindmg</span><span class="o">,</span><span class=""> </span><span class="n">maxdmg</span><span class="o">)</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="n">_local_15</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">time</span><span class=""> </span><span class="o">&gt;</span><span class=""> </span><span class="o">(</span><span class="n">map_</span><span class="o">.</span><span class="na">gs_</span><span class="o">.</span><span class="na">moveRecords_</span><span class="o">.</span><span class="na">lastClearTime_</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="mi">600</span><span class="o">))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="n">damage</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">0</span><span class="o">;</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="n">projectile</span><span class="o">.</span><span class="na">setDamage</span><span class="o">(</span><span class="n">damage</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">((((</span><span class="n">i</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="mi">0</span><span class="o">))</span><span class=""> </span><span class="o">&amp;&amp;</span><span class=""> </span><span class="o">(!((</span><span class="n">projectile</span><span class="o">.</span><span class="na">sound_</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="kc">null</span><span class="o">)))))</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="n">SoundEffectLibrary</span><span class="o">.</span><span class="na">play</span><span class="o">(</span><span class="n">projectile</span><span class="o">.</span><span class="na">sound_</span><span class="o">,</span><span class=""> </span><span class="mf">0.75</span><span class="o">,</span><span class=""> </span><span class="kc">false</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="n">map_</span><span class="o">.</span><span class="na">addObj</span><span class="o">(</span><span class="n">projectile</span><span class="o">,</span><span class=""> </span><span class="o">(</span><span class="n">x_</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="o">(</span><span class="n">Math</span><span class="o">.</span><span class="na">cos</span><span class="o">(</span><span class="n">attackAngle</span><span class="o">)</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="mf">0.3</span><span class="o">)),</span><span class=""> </span><span class="o">(</span><span class="n">y_</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="o">(</span><span class="n">Math</span><span class="o">.</span><span class="na">sin</span><span class="o">(</span><span class="n">attackAngle</span><span class="o">)</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="mf">0.3</span><span class="o">)));</span><span class=""></span>
<span class="">            </span><span class="n">map_</span><span class="o">.</span><span class="na">gs_</span><span class="o">.</span><span class="na">gsc_</span><span class="o">.</span><span class="na">playerShoot</span><span class="o">(</span><span class="n">time</span><span class="o">,</span><span class=""> </span><span class="n">projectile</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="n">_local_9</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="n">_local_9</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="n">arcGap</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="n">i</span><span class="o">++;</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function </span><span class="nf">isHexed</span><span class=""></span><span class="o">()</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Boolean</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(!(((</span><span class="n">condition_</span><span class="o">[</span><span class="n">ConditionEffect</span><span class="o">.</span><span class="na">CE_FIRST_BATCH</span><span class="o">]</span><span class=""> </span><span class="o">&amp;</span><span class=""> </span><span class="n">ConditionEffect</span><span class="o">.</span><span class="na">HEXED_BIT</span><span class="o">)</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="mi">0</span><span class="o">)));</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function </span><span class="nf">isInventoryFull</span><span class=""></span><span class="o">()</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">Boolean</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_1</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">equipment_</span><span class="o">.</span><span class="na">length</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_2</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">uint</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">4</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">while</span><span class=""> </span><span class="o">(</span><span class="n">_local_2</span><span class=""> </span><span class="o">&lt;</span><span class=""> </span><span class="n">_local_1</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">equipment_</span><span class="o">[</span><span class="n">_local_2</span><span class="o">]</span><span class=""> </span><span class="o">&lt;=</span><span class=""> </span><span class="mi">0</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="kc">false</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="n">_local_2</span><span class="o">++;</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="kc">true</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function </span><span class="nf">nextAvailableInventorySlot</span><span class=""></span><span class="o">()</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_1</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">((</span><span class="k">this</span><span class="o">.</span><span class="na">hasBackpack_</span><span class="o">)</span><span class=""> </span><span class="o">?</span><span class=""> </span><span class="n">equipment_</span><span class="o">.</span><span class="na">length</span><span class=""> </span><span class="o">:</span><span class=""> </span><span class="o">(</span><span class="n">equipment_</span><span class="o">.</span><span class="na">length</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="n">GeneralConstants</span><span class="o">.</span><span class="na">NUM_INVENTORY_SLOTS</span><span class="o">));</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_2</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">uint</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">4</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">while</span><span class=""> </span><span class="o">(</span><span class="n">_local_2</span><span class=""> </span><span class="o">&lt;</span><span class=""> </span><span class="n">_local_1</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">equipment_</span><span class="o">[</span><span class="n">_local_2</span><span class="o">]</span><span class=""> </span><span class="o">&lt;=</span><span class=""> </span><span class="mi">0</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">_local_2</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="n">_local_2</span><span class="o">++;</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(-</span><span class="mi">1</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function </span><span class="nf">numberOfAvailableSlots</span><span class=""></span><span class="o">()</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_1</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">((</span><span class="k">this</span><span class="o">.</span><span class="na">hasBackpack_</span><span class="o">)</span><span class=""> </span><span class="o">?</span><span class=""> </span><span class="n">equipment_</span><span class="o">.</span><span class="na">length</span><span class=""> </span><span class="o">:</span><span class=""> </span><span class="o">(</span><span class="n">equipment_</span><span class="o">.</span><span class="na">length</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="n">GeneralConstants</span><span class="o">.</span><span class="na">NUM_INVENTORY_SLOTS</span><span class="o">));</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_2</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_3</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">uint</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">4</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">while</span><span class=""> </span><span class="o">(</span><span class="n">_local_3</span><span class=""> </span><span class="o">&lt;</span><span class=""> </span><span class="n">_local_1</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">equipment_</span><span class="o">[</span><span class="n">_local_3</span><span class="o">]</span><span class=""> </span><span class="o">&lt;=</span><span class=""> </span><span class="mi">0</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="n">_local_2</span><span class="o">++;</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="n">_local_3</span><span class="o">++;</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">_local_2</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function </span><span class="nf">swapInventoryIndex</span><span class=""></span><span class="o">(</span><span class=""></span><span class="n">_arg_1</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">String</span><span class=""></span><span class="o">)</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_2</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_3</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(!</span><span class="k">this</span><span class="o">.</span><span class="na">hasBackpack_</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">return</span><span class=""> </span><span class="o">(-</span><span class="mi">1</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">_arg_1</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="n">TabStripModel</span><span class="o">.</span><span class="na">BACKPACK</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="n">_local_2</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">GeneralConstants</span><span class="o">.</span><span class="na">NUM_EQUIPMENT_SLOTS</span><span class="o">;</span><span class=""></span>
<span class="">            </span><span class="n">_local_3</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="n">GeneralConstants</span><span class="o">.</span><span class="na">NUM_EQUIPMENT_SLOTS</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="n">GeneralConstants</span><span class="o">.</span><span class="na">NUM_INVENTORY_SLOTS</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">else</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="n">_local_2</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">(</span><span class="n">GeneralConstants</span><span class="o">.</span><span class="na">NUM_EQUIPMENT_SLOTS</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="n">GeneralConstants</span><span class="o">.</span><span class="na">NUM_INVENTORY_SLOTS</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="n">_local_3</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">equipment_</span><span class="o">.</span><span class="na">length</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="kd">var</span><span class=""> </span><span class="n">_local_4</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">uint</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_local_2</span><span class="o">;</span><span class=""></span>
<span class="">        </span><span class="k">while</span><span class=""> </span><span class="o">(</span><span class="n">_local_4</span><span class=""> </span><span class="o">&lt;</span><span class=""> </span><span class="n">_local_3</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">if</span><span class=""> </span><span class="o">(</span><span class="n">equipment_</span><span class="o">[</span><span class="n">_local_4</span><span class="o">]</span><span class=""> </span><span class="o">&lt;=</span><span class=""> </span><span class="mi">0</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">                </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">_local_4</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="o">}</span><span class=""></span>
<span class="">            </span><span class="n">_local_4</span><span class="o">++;</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(-</span><span class="mi">1</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function </span><span class="nf">getPotionCount</span><span class=""></span><span class="o">(</span><span class=""></span><span class="n">_arg_1</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class=""></span><span class="o">)</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">switch</span><span class=""> </span><span class="o">(</span><span class="n">_arg_1</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">            </span><span class="k">case</span><span class=""> </span><span class="n">PotionInventoryModel</span><span class="o">.</span><span class="na">HEALTH_POTION_ID</span><span class="o">:</span><span class=""></span>
<span class="">                </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">healthPotionCount_</span><span class="o">);</span><span class=""></span>
<span class="">            </span><span class="k">case</span><span class=""> </span><span class="n">PotionInventoryModel</span><span class="o">.</span><span class="na">MAGIC_POTION_ID</span><span class="o">:</span><span class=""></span>
<span class="">                </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">magicPotionCount_</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="mi">0</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function </span><span class="nf">getTex1</span><span class=""></span><span class="o">()</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">tex1Id_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function </span><span class="nf">getTex2</span><span class=""></span><span class="o">()</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">tex2Id_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class=""></span>
<span class=""></span><span class="o">}</span><span class=""></span>
<span class=""></span><span class="o">}</span><span class="c1">//package com.company.assembleegameclient.objects</span>
<span class="c1"></span>
</pre></div>
pan class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">tex1Id_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function </span><span class="nf">getTex2</span><span class=""></span><span class="o">()</span><span class=""></span><span class="p">:</span><span class=""></span><span class="kt">int</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">tex2Id_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class=""></span>
<span class=""></span><span class="o">}</span><span class=""></span>
<span class=""></span><span class="o">}</span><span class="c1">//package com.company.assembleegameclient.objects</span>
<span class="c1"></span>
</pre></div>
pan><span class=""> </span><span class="o">(</span><span class="n">tex1Id_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function</span><span class=""> </span><span class="n">getTex2</span><span class="o">():</span><span class="n">int</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">tex2Id_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class=""></span>
<span class=""></span><span class="o">}</span><span class=""></span>
<span class=""></span><span class="o">}</span><span class="c1">//package com.company.assembleegameclient.objects</span>
<span class="c1"></span>
</pre></div>
      </span><span class="k">case</span><span class=""> </span><span class="n">PotionInventoryModel</span><span class="o">.</span><span class="na">MAGIC_POTION_ID</span><span class="o">:</span><span class=""></span>
<span class="">                </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">magicPotionCount_</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="mi">0</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function</span><span class=""> </span><span class="n">getTex1</span><span class="o">():</span><span class="n">int</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">tex1Id_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function</span><span class=""> </span><span class="n">getTex2</span><span class="o">():</span><span class="n">int</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">tex2Id_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class=""></span>
<span class=""></span><span class="o">}</span><span class=""></span>
<span class=""></span><span class="o">}</span><span class="c1">//package com.company.assembleegameclient.objects</span>
<span class="c1"></span>
</pre></div>
      </span><span class="k">case</span><span class=""> </span><span class="n">PotionInventoryModel</span><span class="o">.</span><span class="na">MAGIC_POTION_ID</span><span class="o">:</span><span class=""></span>
<span class="">                </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">magicPotionCount_</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="mi">0</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function</span><span class=""> </span><span class="n">getTex1</span><span class="o">():</span><span class="n">int</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">tex1Id_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function</span><span class=""> </span><span class="n">getTex2</span><span class="o">():</span><span class="n">int</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">tex2Id_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class=""></span>
<span class=""></span><span class="o">}</span><span class=""></span>
<span class=""></span><span class="o">}</span><span class="c1">//package com.company.assembleegameclient.objects</span>
<span class="c1"></span>
</pre></div>
      </span><span class="k">case</span><span class=""> </span><span class="n">PotionInventoryModel</span><span class="o">.</span><span class="na">MAGIC_POTION_ID</span><span class="o">:</span><span class=""></span>
<span class="">                </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">magicPotionCount_</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="mi">0</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function</span><span class=""> </span><span class="n">getTex1</span><span class="o">():</span><span class="n">int</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">tex1Id_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function</span><span class=""> </span><span class="n">getTex2</span><span class="o">():</span><span class="n">int</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">tex2Id_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class=""></span>
<span class=""></span><span class="o">}</span><span class=""></span>
<span class=""></span><span class="o">}</span><span class="c1">//package com.company.assembleegameclient.objects</span>
<span class="c1"></span>
</pre></div>
an class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">tex1Id_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function</span><span class=""> </span><span class="n">getTex2</span><span class="o">():</span><span class="n">int</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">tex2Id_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class=""></span>
<span class=""></span><span class="o">}</span><span class=""></span>
<span class=""></span><span class="o">}</span><span class="c1">//package com.company.assembleegameclient.objects</span>
<span class="c1"></span>
</pre></div>
an class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">tex1Id_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function</span><span class=""> </span><span class="n">getTex2</span><span class="o">():</span><span class="n">int</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">tex2Id_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class=""></span>
<span class=""></span><span class="o">}</span><span class=""></span>
<span class=""></span><span class="o">}</span><span class="c1">//package com.company.assembleegameclient.objects</span>
<span class="c1"></span>
</pre></div>
n class=""></span>
<span class=""></span>
<span class=""></span><span class="o">}</span><span class=""></span>
<span class=""></span><span class="o">}</span><span class="c1">//package com.company.assembleegameclient.objects</span>
<span class="c1"></span>
</pre></div>
"o">(</span><span class="n">tex1Id_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="n">public</span><span class=""> </span><span class="n">function</span><span class=""> </span><span class="n">getTex2</span><span class="o">():</span><span class="n">int</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="n">return</span><span class=""> </span><span class="o">(</span><span class="n">tex2Id_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class=""></span>
<span class=""></span><span class="o">}</span><span class=""></span>
<span class=""></span><span class="o">}</span><span class="c1">//package com.company.assembleegameclient.objects</span>
<span class="c1"></span>
</pre></div>
<span class=""> </span><span class="kd">function</span><span class=""> </span><span class="n">getTex1</span><span class="o">():</span><span class="n">int</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">tex1Id_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function</span><span class=""> </span><span class="n">getTex2</span><span class="o">():</span><span class="n">int</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">tex2Id_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class=""></span>
<span class=""></span><span class="o">}</span><span class=""></span>
<span class=""></span><span class="o">}</span><span class="c1">//package com.company.assembleegameclient.objects</span>
<span class="c1"></span>
</pre></div>
      </span><span class="k">case</span><span class=""> </span><span class="n">PotionInventoryModel</span><span class="o">.</span><span class="na">MAGIC_POTION_ID</span><span class="o">:</span><span class=""></span>
<span class="">                </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">magicPotionCount_</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="mi">0</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function</span><span class=""> </span><span class="n">getTex1</span><span class="o">():</span><span class="n">int</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">tex1Id_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function</span><span class=""> </span><span class="n">getTex2</span><span class="o">():</span><span class="n">int</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">tex2Id_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class=""></span>
<span class=""></span><span class="o">}</span><span class=""></span>
<span class=""></span><span class="o">}</span><span class="c1">//package com.company.assembleegameclient.objects</span>
<span class="c1"></span>
</pre></div>
an class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">tex1Id_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function</span><span class=""> </span><span class="n">getTex2</span><span class="o">():</span><span class="n">int</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">tex2Id_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class=""></span>
<span class=""></span><span class="o">}</span><span class=""></span>
<span class=""></span><span class="o">}</span><span class="c1">//package com.company.assembleegameclient.objects</span>
<span class="c1"></span>
</pre></div>
      </span><span class="k">case</span><span class=""> </span><span class="n">PotionInventoryModel</span><span class="o">.</span><span class="na">MAGIC_POTION_ID</span><span class="o">:</span><span class=""></span>
<span class="">                </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">magicPotionCount_</span><span class="o">);</span><span class=""></span>
<span class="">        </span><span class="o">}</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="mi">0</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function</span><span class=""> </span><span class="n">getTex1</span><span class="o">():</span><span class="n">int</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">tex1Id_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function</span><span class=""> </span><span class="n">getTex2</span><span class="o">():</span><span class="n">int</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">tex2Id_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class=""></span>
<span class=""></span><span class="o">}</span><span class=""></span>
<span class=""></span><span class="o">}</span><span class="c1">//package com.company.assembleegameclient.objects</span>
<span class="c1"></span>
</pre></div>
an class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">tex1Id_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function</span><span class=""> </span><span class="n">getTex2</span><span class="o">():</span><span class="n">int</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">tex2Id_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class=""></span>
<span class=""></span><span class="o">}</span><span class=""></span>
<span class=""></span><span class="o">}</span><span class="c1">//package com.company.assembleegameclient.objects</span>
<span class="c1"></span>
</pre></div>
an class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">tex1Id_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function</span><span class=""> </span><span class="n">getTex2</span><span class="o">():</span><span class="n">int</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">tex2Id_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class=""></span>
<span class=""></span><span class="o">}</span><span class=""></span>
<span class=""></span><span class="o">}</span><span class="c1">//package com.company.assembleegameclient.objects</span>
<span class="c1"></span>
</pre></div>
an class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">tex1Id_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function</span><span class=""> </span><span class="n">getTex2</span><span class="o">():</span><span class="n">int</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">tex2Id_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class=""></span>
<span class=""></span><span class="o">}</span><span class=""></span>
<span class=""></span><span class="o">}</span><span class="c1">//package com.company.assembleegameclient.objects</span>
<span class="c1"></span>
</pre></div>
span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">tex1Id_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class="">    </span><span class="kd">public</span><span class=""> </span><span class="kd">function</span><span class=""> </span><span class="n">getTex2</span><span class="o">():</span><span class="n">int</span><span class=""> </span><span class="o">{</span><span class=""></span>
<span class="">        </span><span class="k">return</span><span class=""> </span><span class="o">(</span><span class="n">tex2Id_</span><span class="o">);</span><span class=""></span>
<span class="">    </span><span class="o">}</span><span class=""></span>
<span class=""></span>
<span class=""></span>
<span class=""></span><span class="o">}</span><span class=""></span>
<span class=""></span><span class="o">}</span><span class="c1">//package com.company.assembleegameclient.objects</span>
<span class="c1"></span>
</pre></div>
